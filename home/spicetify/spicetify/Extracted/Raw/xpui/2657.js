"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[2657],{9618:(e,t,r)=>{r.d(t,{p:()=>u});var i=r(30758),a=r(41978),n=r(49599),l=r(53634),o=r(86461),s=r(90577),c=r(55937),d=r(86070);const u=i.memo((function({uri:e,divider:t,removeLabel:r}){const u=(0,a.wA)(),p=!(0,s.n)(),g=(0,c.t)(),m=(0,i.useCallback)((async()=>{u((0,l.aw)(e,!0))}),[u,e]);return(0,d.jsx)(o.D,{role:"menuitem",divider:t,disabled:p&&!g?.getCapabilities().canModifyOffline,onClick:m,leadingIcon:(0,d.jsx)(n.k,{semanticColor:"textBrightAccent",size:"small"}),children:r})}))},34709:(e,t,r)=>{r.d(t,{P:()=>x});var i=r(30758),a=r(8539),n=r(25931),l=r(38824),o=r(61098),s=r(85368),c=r(53e3),d=r(9618),u=r(93697),p=r(38586),g=r(42021),m=r(22058),y=r(86070);const x=i.memo((function({uri:e,artistUri:t,canPin:r=p.oT.NO,isPinned:i=!1,canRemove:x=!1}){const{spec:b}=(0,g.o)(e);return(0,y.jsx)(u.pZ,{value:"album",children:(0,y.jsxs)(n.W,{children:[x&&(0,y.jsx)(d.p,{uri:e,removeLabel:a.Ru.get("contextmenu.remove-from-library")}),t&&(0,y.jsx)(o.z,{spec:b,divider:"after",uri:t,displayText:a.Ru.get("contextmenu.go-to-artist-radio")}),r!==p.oT.NO&&(0,y.jsx)(c.k,{uri:e,canPin:r,isPinned:i,type:m.c.PRE_RELEASE_ALBUM,spec:b}),(0,y.jsx)(l.m,{uri:e,spec:b,displayText:a.Ru.get("context-menu.copy-album-link")}),(0,y.jsx)(s.q,{spec:b,divider:"before",uri:e})]})})}))},61341:(e,t,r)=>{r.d(t,{e:()=>l});var i=r(26191);const a="k270skPbT7JOaSidSA2a";var n=r(86070);const l=({iconSize:e=64,...t})=>(0,n.jsx)("div",{className:a,children:(0,n.jsx)(i.E,{iconSize:e,...t,semanticColor:"textBrightAccent","aria-hidden":!0})})},46125:(e,t,r)=>{r.d(t,{X:()=>u,A:()=>z});var i=r(30758),a=r(71309),n=r(30458),l=r(8539),o=r(65785),s=r(65568);const c="KsnGjjEeMb2miriJrkjW";var d=r(86070);const u=()=>{const e=l.Ru.getLocaleForTranslation(),t=s.IB[e]??s.IB.en,r=(0,o.ZZ)(),u=(0,i.useCallback)((()=>{r({type:"OPEN"})}),[r]);return(0,d.jsx)("div",{className:c,children:(0,d.jsx)(a.n,{iconLeading:n.d,size:"small",onClick:u,"data-testid":"language-selection-button",children:t.displayName})})};var p=r(8143),g=r(41978),m=r(58184),y=r(67264),x=r(96839),b=r(23989),h=r(59225),f=r(22058),S=r(12076),v=r(80629);const C="ZpqHX3kvsJIsR1QIc4kf",w=({children:e,locale:t,onClick:r,type:i="button"})=>{const a=t===h.Xn,n=(0,v.vf)(window.location.pathname),o=(0,x.o_)(window.location.pathname),s=(0,b.W)({type:"route",uri:n?f.c.HOME:o?.toURI()}),c={className:C,id:t,onClick:e=>(e=>{if("button"===i){e.preventDefault();const t=new URL(window.location.href);window.location.href.includes("locale")&&t.searchParams.delete("locale"),window.location.href=t.href}r(t)})(e),"data-testid":`language-option-${t}`};if("link"===i){const r=(0,S.ll)(window.location.pathname,!a),i=(0,S.hF)(r,(0,l.a7)(t).baseName),n=s?i:window.location.pathname,o=(e=>e.endsWith("/")?e.slice(0,-1):e)(`${window.location.origin}${n}`);return(0,d.jsx)("a",{href:o,...c,children:e})}return(0,d.jsx)("button",{...c,children:e})},P="eYLSfS4EKfwsdTsItWkY",R=({style:e,children:t})=>(0,d.jsx)("div",{className:P,style:e,children:t});var j=r(97500),T=r.n(j),A=r(17635),D=r(2262);const I="KPuW9eE4auKgVgMtPZoH",L="zCedVxWmwaJhPIGzJixP",O="qzuG9AHNXHQrOGF06r9A",E="ZgjCz5A7qOyprtvcLK8y",k="BSwvSvqHiQUVuim4Eidv",N="TpluDuF12UKv3IIq_VDu",F=({onClose:e,children:t})=>{const r=(0,i.useRef)(null),{isOpen:a}=(0,o.iL)(),n=(0,A.NC)(D.rW);return(0,d.jsx)("div",{"data-testid":"language-selection-modal",className:T()(I,{"circular-sp-vietnamese":n,[L]:a}),onClick:t=>{t.target===r.current&&e()},role:"presentation",ref:r,children:t})},M=({ariaDescribedBy:e,ariaLabelledBy:t,children:r})=>{const{isOpen:i}=(0,o.iL)();return(0,d.jsx)("div",{className:O,role:"dialog",hidden:!i,"aria-modal":!0,"aria-labelledby":t,"aria-describedby":e,children:r})};var B=r(90441);const U=({onClose:e})=>(0,d.jsx)("button",{"data-testid":"close-button",className:N,onClick:()=>{e()},children:(0,d.jsx)(B.M,{size:"small","aria-label":l.Ru.get("close")})});var _=r(65093),V=r(32940),H=r(11498),W=r(62518);const z=({languageSelectionModalRef:e})=>{const t=(0,i.useRef)(null),[r,a]=(0,i.useState)("0"),n=(0,o.ZZ)(),c=(0,g.d4)(_.MU),u=(0,i.useCallback)((()=>{n({type:"CLOSE"})}),[n]),{isOpen:x}=(0,o.iL)(),b=(0,i.useCallback)((()=>{a(`${t.current?.getBoundingClientRect().height}px`)}),[a]),h=e=>{var t;(0,W.n0)({name:"sp_locale",value:e,domain:(t="open.spotify.com",t.substring(t.indexOf("."))),days:365}),u()};var f;if(f=u,(0,i.useEffect)((()=>{const e=e=>{"Escape"===e.key&&f()};return window.addEventListener("keyup",e,!1),()=>window.removeEventListener("keyup",e)})),(0,H.w)({refOrElement:t,observeOnly:"height",onResize:b}),(0,i.useEffect)((()=>{b()}),[b]),!e.current)return null;const S="language-selection-title",C="language-selection-subtitle",P={"--header-height":r};return(0,p.createPortal)((0,d.jsx)(V.s,{active:x,children:(0,d.jsx)("div",{children:(0,d.jsx)(F,{onClose:u,children:(0,d.jsxs)(M,{ariaLabelledBy:S,ariaDescribedBy:C,children:[(0,d.jsxs)("div",{className:E,ref:t,children:[(0,d.jsxs)("div",{className:k,children:[(0,d.jsx)(m.E,{as:"h1",variant:"titleSmall",semanticColor:"textBase",id:S,paddingBottom:y.v4,children:l.Ru.get("i18n.language-selection.title")}),(0,d.jsx)(m.E,{as:"p",variant:"bodyMedium",semanticColor:"textBase",id:C,paddingBottom:y.CD,children:l.Ru.get("i18n.language-selection.subtitle")})]}),(0,d.jsx)(U,{onClose:u})]}),(0,d.jsx)(R,{style:{...P},children:s.Np.map((e=>{const t=(0,l.a7)(e).baseName,r=(0,v.p)({localeFeatureFlag:c,urlLocale:t,type:"locale"});return(0,d.jsxs)(w,{onClick:h,locale:e,type:r?"link":"button",children:[(0,d.jsx)(m.E,{semanticColor:"textBase",children:s.IB[e].displayName}),(0,d.jsx)(m.E,{children:s.IB[e].displayNameEn})]},e)}))})]})})})}),e.current)}},12657:(e,t,r)=>{r.d(t,{A:()=>Il,YourLibraryX:()=>Zo,q:()=>Ll});var i=r(30758),a=r(97500),n=r.n(a),l=r(96131),o=r(41978),s=r(8159),c=r(61272),d=r(17635),u=r(85772),p=r(48873),g=r(87349),m=r(25931),y=r(92990),x=r(62329),b=r(8539),h=r(86461),f=r(68262),S=r(41554),v=r(93697),C=r(79464),w=r(86070);const P=({position:e,divider:t,onCreateCallback:r=(()=>{}),spec:a})=>{const n=(0,f.W)(),{createPlaylist:l}=(0,S.A)(),o=(0,C.s)(),s=(0,i.useCallback)((()=>{n({intent:"create-playlist",type:"click"});const t=a.createButtonFactory().hitCreatePlaylist();t&&o.logInteraction(t),l(b.Ru.get("playlist.default_playlist_name"),e),r()}),[n,a,o,l,e,r]);return(0,w.jsx)(h.D,{role:"menuitem",divider:t,onClick:s,leadingIcon:(0,w.jsx)(x.u,{semanticColor:"textSubdued",size:"small"}),children:b.Ru.get("contextmenu.create-playlist")})},R=i.memo((function(e){return(0,w.jsx)(v.pZ,{value:"create-playlist",children:(0,w.jsx)(P,{...e})})}));var j=r(38586),T=r(42021);const A=i.memo((function({folderUri:e,onCreateCallback:t}){const r=e?{after:{uri:e}}:{before:"start"},{spec:i}=(0,T.o)(e??j.gv);return(0,w.jsx)(v.pZ,{value:"folder",children:(0,w.jsxs)(m.W,{children:[(0,w.jsx)(R,{position:r,onCreateCallback:t,spec:i}),(0,w.jsx)(y.j,{position:r,onCreateCallback:t,spec:i})]})})}));var D=r(62790),I=r(39946),L=r(31952),O=r(60429),E=r(64308),k=r(69822),N=r(67204),F=r(2534),M=r(62286),B=r(57472),U=r(64887),_=r(47319),V=r(38763),H=r(20673),W=r(72211),z=r(46600),X=r(32481);const K=1248,Y=800,Z=(0,X.g)(V.Z),G=(0,X.g)(H.fX),J=()=>(function(){const{size:e,setSize:t,minWidth:r,maxWidth:a,ylxCollapsedStateNavbarWidth:n,ylxDefaultStateNavbarWidth:o,ylxExpandedStateNavbarWidth:s}=(0,B.y)(),{ylxSidebarState:c,setYlxSidebarState:d,canCollapse:u}=(0,H.$)(),p=(0,U.XB)(),g=(0,U._Y)(),{min:m,max:y,size:x,setSize:b}=(0,U.Zf)(),h=(0,W.H)(),f=(0,i.useRef)(null),S=(0,i.useRef)(null),v=(0,i.useRef)(null);(0,i.useLayoutEffect)((()=>{const i=h-e-3*F.KV-(p!==V.Z.Disabled?x+F.KV:0),C={leftSidebarWidth:e,leftSidebarMinWidth:r,leftSidebarMaxWidth:a,ylxSidebarState:c,ylxSidebarStateRestoreTarget:f.current,rightSidebarWidth:x,rightSidebarMinWidth:m,rightSidebarMaxWidth:y,rightSidebarPanel:p,rightSidebarPanelRestoreTarget:S.current,storedCollapsedYLXWidth:n,storedDefaultYLXWidth:o,storedExpandedYLXWidth:s,clientWidth:h,mainContentWidth:i,canCollapse:u},w=v.current;if((0,l.j)(C,w))return;const P=function(e,t){if(!e)return{};let{leftSidebarWidth:r=0,rightSidebarWidth:i=0}=t;const{mainContentWidth:a=0,leftSidebarMinWidth:n=0,leftSidebarMaxWidth:l=0,ylxSidebarState:o,ylxSidebarStateRestoreTarget:s,rightSidebarMinWidth:c=0,rightSidebarMaxWidth:d=0,rightSidebarPanel:u,rightSidebarPanelRestoreTarget:p,storedCollapsedYLXWidth:g=0,storedDefaultYLXWidth:m=0,storedExpandedYLXWidth:y=0,clientWidth:x=0,canCollapse:b=!0}=t,h={},f=u!==V.Z.Disabled,S=void 0!==e.leftSidebarWidth&&r>e.leftSidebarWidth,v=void 0!==e.rightSidebarWidth&&i>e.rightSidebarWidth,C=void 0===e.clientWidth?0:x-e.clientWidth,w=C<0,P=x>0,R=a<F.ev?F.ev-a:0;let j=w?-1*C:0;a>K?j=Math.max(0,j-(a-K)):R&&(j=R);const T=o===H.fX.EXPANDED&&e.ylxSidebarState!==H.fX.EXPANDED,A=o===H.fX.DEFAULT&&e.ylxSidebarState!==H.fX.DEFAULT;let D=r-n;S&&(D=T?r-M.ZU.EXPANDED_MIN:A?r-M.ZU.DEFAULT_MIN:0);let I=v?0:i-c;const L=j<=D+I;if(a<F.ev&&!L)f&&(S||w&&(o===H.fX.COLLAPSED||!b))?(h.rightSidebarPanel=V.Z.Disabled,h.rightSidebarPanelRestoreTarget=t.rightSidebarPanel,j-=i,I=0):(o===H.fX.EXPANDED&&a+(r-M.ZU.DEFAULT_MIN)>F.ev?(h.ylxSidebarState=H.fX.DEFAULT,j-=r-m,D=m-M.ZU.DEFAULT_MIN):(h.ylxSidebarState=H.fX.COLLAPSED,j-=r-g,D=0),h.ylxSidebarStateRestoreTarget=t.ylxSidebarState);else if(u===V.Z.Disabled&&p!==V.Z.Disabled&&Z(p)&&u!==e.rightSidebarPanelRestoreTarget&&a-i-F.KV>=F.ev)h.rightSidebarPanel=p,h.rightSidebarPanelRestoreTarget=null;else if(o===H.fX.DEFAULT&&s===H.fX.EXPANDED&&a-(y-r)>=F.ev)h.ylxSidebarState=H.fX.EXPANDED,h.ylxSidebarStateRestoreTarget=null;else if(o===H.fX.COLLAPSED&&s===H.fX.DEFAULT&&a-(m-r)>=F.ev)h.ylxSidebarState=H.fX.DEFAULT,h.ylxSidebarStateRestoreTarget=null;else if(P&&a>=Y){let e=l-r,t=d-i;const a=Math.min(C,e+t);for(let n=0;n<a;n++)r<i&&r<l&&e>0?(r++,e--):i<d&&t>0&&(i++,t--)}o!==e.ylxSidebarState&&G(s)&&s===e.ylxSidebarStateRestoreTarget&&(h.ylxSidebarStateRestoreTarget=null);u!==e.rightSidebarPanel&&Z(p)&&p===e.rightSidebarPanelRestoreTarget&&(h.rightSidebarPanelRestoreTarget=null);if(j>0&&j<=D+I)for(let e=0;e<j;e++)r>i&&r>n&&D>0?(r--,D--):i>c&&I>0&&(i--,I--);r&&r!==t.leftSidebarWidth&&(h.leftSidebarWidth=r);i&&i!==t.rightSidebarWidth&&(h.rightSidebarWidth=i);return h}(w,C);void 0!==P.leftSidebarWidth&&t(P.leftSidebarWidth),G(P.ylxSidebarState)&&d(P.ylxSidebarState),void 0!==P.ylxSidebarStateRestoreTarget&&(f.current=P.ylxSidebarStateRestoreTarget),void 0!==P.rightSidebarWidth&&0!==w?.rightSidebarWidth&&b(P.rightSidebarWidth),void 0!==P.rightSidebarPanel&&g((0,_.MQ)(P.rightSidebarPanel)),void 0!==P.rightSidebarPanelRestoreTarget&&(S.current=P.rightSidebarPanelRestoreTarget),v.current=C}),[e,r,a,t,c,x,m,y,b,p,n,o,s,d,g,h,u])}(),null),q=()=>(0,d.NC)(z.Wfl,{loadingValue:!1})?(0,w.jsx)(J,{}):null;var Q=r(35242),$=(r(89268),r(49028),r(33676));$.V;class ee{events=new $.V;addRefiners(){throw new Error("Method not implemented.")}removeRefiners(){throw new Error("Method not implemented.")}getEvents(){return this.events}updateSelectedRefinersOrder(e){throw new Error("Method not implemented.")}}const te=(0,i.createContext)(null);r(3532);var re=r(92535);r(86597);const ie=function({children:e}){const t=(0,i.useMemo)((()=>new ee),[]);return(0,w.jsx)(te.Provider,{value:t,children:e})},ae=()=>null,ne=()=>null,le=()=>null,oe=()=>null,se=()=>null;const ce={focusElement:()=>{},getFocusElement:()=>null,registerFocusElement:()=>()=>{}},de=(0,i.createContext)(ce);class ue{focusElement=()=>{};getFocusElement=()=>null;registerFocusElement=()=>()=>{}}const pe=({children:e})=>{const t=(0,i.useMemo)((()=>new ue),[]);return(0,w.jsx)(de.Provider,{value:t,children:e})};var ge=r(98350);const me=()=>({cheetaraOnboardingIsActive:!1,setCheetaraOnboardingIsActive:()=>{},cheetaraOnboardingDismissed:!1,setCheetaraOnboardingDismissed:()=>{},handleCloseCheetaraOnboarding:()=>{}});r(72331);const ye=()=>!1;var xe=r(46125),be=r(58184),he=r(84987),fe=r(63259),Se=r(25598),ve=r(18428);const Ce="rqGyIqd3Igk05BEB2ZC6",we="WycFx_Gl2tUXbUJpZiD8",Pe=()=>{const[e,t]=(0,i.useState)(!1),r=(0,fe.V)(),a=(0,o.d4)(Se.JJ);(0,i.useEffect)((()=>{const e=setTimeout((()=>{t(!0)}),1100);return()=>{t(!1),clearTimeout(e)}}),[]);const n=(0,o.d4)(Se.mo);return r&&e?(0,w.jsx)(he.t5,{language:b.Ru.getLocaleForSmartling(),market:a.toLowerCase(),children:(0,w.jsxs)("div",{className:Ce,"data-testid":"left-sidebar-legal-links",children:[(0,w.jsx)(he.JM,{}),(0,w.jsx)("a",{draggable:!1,href:ve.Bl,target:"_blank",rel:"noopener",className:we,children:(0,w.jsx)(be.E,{variant:"marginal",children:b.Ru.get("cookies")})}),n&&(0,w.jsx)("a",{draggable:!1,href:ve.Vd,target:"_blank",rel:"noopener",className:we,children:(0,w.jsx)(be.E,{variant:"marginal",children:"Форма для Ваших обращений"})})]})}):null},Re="YNnobzGm5w3XKBniKdW9",je=(0,i.memo)((function({isAnonymous:e}){return(0,w.jsx)("div",{className:Re,"data-testid":"left-sidebar-footer",children:e&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(Pe,{}),(0,w.jsx)(xe.X,{})]})})}));var Te=r(99078),Ae=r(73005),De=r(67708),Ie=r(29158),Le=r(26842),Oe=r(89667),Ee=r(58400);const ke="lvJXjYO7YXxGKHcgx5pe",Ne="yYGZUqSKJttCw_Z2JvPL",Fe="wkyebhrfwyJPCfDhQgbp",Me=()=>{const e=(0,Le.sy)(),t=(0,C.s)(),r=(0,o.wA)(),{spec:a}=(0,Ee.r)(De.V,{}),n=b.Ru.get("web-player.your-library-x.dsa-message",b.Ru.get("web-player.your-library-x.dsa-message-link")),l=(0,i.useCallback)((()=>{r(Oe.r8.actions.open()),t.logInteraction(a.learnMoreButtonFactory().hitUiReveal())}),[r,t,a]);return(0,w.jsx)("div",{className:ke,children:e?(0,w.jsx)(Ie.Zp,{label:(0,w.jsx)(be.E,{children:n}),placement:"right",showDelay:0,children:(0,w.jsx)("div",{className:Ne,children:(0,w.jsx)(Te.p,{"aria-label":n})})}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{children:(0,w.jsx)(Te.p,{size:"small"})}),(0,w.jsx)(be.E,{as:"p",semanticColor:"textSubdued",children:b.Ru.get("web-player.your-library-x.dsa-message",(0,w.jsx)(Ae.H,{condensedAll:!0,size:"small",semanticColor:"textBase",onClick:l,className:Fe,children:(0,w.jsx)(be.E,{variant:"bodyMedium",children:b.Ru.get("web-player.your-library-x.dsa-message-link")})}))})]})})},Be="AhNLpx0iVnlj4SuL_Gaw",Ue="JyZRugeRBHbUtS5ABOQ8",_e=({className:e})=>(0,w.jsx)("section",{className:n()(Be,e),children:(0,w.jsxs)("div",{className:Ue,children:[(0,w.jsx)(be.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",children:b.Ru.get("web-player.your-library-x.empty-state-folder-title")}),(0,w.jsx)(be.E,{as:"p",variant:"bodySmall",semanticColor:"textBase",children:b.Ru.get("web-player.your-library-x.empty-state-folder-subtitle")})]})});var Ve=r(33966),He=r(80237);const We={getTitle:()=>b.Ru.get("action-trigger.create-playlist"),getDescription:()=>b.Ru.get("action-trigger.login-playlist")},ze=({children:e,renderInline:t})=>(0,w.jsx)(Ve.y,{id:He.x9,options:{...We,renderInline:t},children:e});var Xe=r(95477),Ke=r(84217);const Ye="CfruGiDGW_FH4l65GMpb",Ze="fIgbQ9qpINdyy__tkaHi",Ge="wv308QWnPnkI8n0GdqYO",Je=(0,i.memo)((function(e){const{message:t,title:r,linkTitle:i,linkTo:a,onClick:l,className:o}=e;return(0,w.jsxs)("section",{className:n()(Ye,o),children:[(0,w.jsxs)("div",{className:Ze,children:[(0,w.jsx)(be.E,{variant:"bodyMediumBold",semanticColor:"textBase",children:r}),(0,w.jsx)(be.E,{variant:"bodySmall",semanticColor:"textBase",children:t})]}),(0,w.jsx)("div",{className:Ge,children:i&&(a||l)&&(0,w.jsx)(Xe.$,{className:Ge,as:l?"button":void 0,colorSet:"invertedLight",href:a,onClick:l,component:Ke.v,size:"small",children:i})})]})})),qe=({className:e})=>{const{createPlaylist:t}=(0,S.A)(),r=(0,i.useCallback)((()=>{t()}),[t]);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(ze,{renderInline:!1,children:(0,w.jsx)(Je,{onClick:r,linkTitle:b.Ru.get("web-player.your-library-x.empty-state-playlists-cta"),title:b.Ru.get("web-player.your-library-x.empty-state-playlists-title"),message:b.Ru.get("web-player.your-library-x.empty-state-playlists-subtitle"),className:e})}),(0,w.jsx)(Je,{linkTo:"/genre/podcasts-web",linkTitle:b.Ru.get("web-player.your-library-x.empty-state-podcasts-browse"),title:b.Ru.get("web-player.your-library-x.empty-state-podcasts-to-follow"),message:b.Ru.get("web-player.your-library-x.empty-state-podcasts-keep-you-updated"),className:e})]})},Qe="NOXrKH_1anB9lsOlyv5g",$e="FIARvjbv_YZKwz7yxNHw",et="Fqrv8StT3DnEAfntIKCg",tt="JydI9ZzWnssPC899sOGP",rt=({query:e,className:t})=>(0,w.jsxs)("div",{className:n()(Qe,t),"data-testid":"no-search-results-view",children:[(0,w.jsx)(be.E,{as:"h1",variant:"bodyMediumBold",className:$e,children:b.Ru.get("web-player.your-library-x.empty-results-title-short",(0,w.jsx)("span",{className:et,children:(0,w.jsx)("span",{className:tt,children:e})}))}),(0,w.jsx)(be.E,{as:"h2",variant:"bodySmall",children:b.Ru.get("web-player.your-library-x.empty-results-text-short")})]});var it=r(27770);const at="vhOeYrTmSoea5vemsMpv",nt="pCKhe1uJhYBUC4YVmz9B",lt=({onClick:e})=>(0,w.jsxs)("div",{className:at,children:[(0,w.jsx)("div",{className:"icon",children:(0,w.jsx)(it.b,{size:"xlarge",semanticColor:"textBase"})}),(0,w.jsxs)("div",{className:nt,children:[(0,w.jsx)(be.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",children:b.Ru.get("web-player.your-library-x.error-title")}),(0,w.jsx)(be.E,{as:"p",variant:"bodySmall",semanticColor:"textBase",children:b.Ru.get("web-player.your-library-x.error-body")})]}),(0,w.jsx)("div",{children:(0,w.jsx)(Xe.$,{onClick:e,colorSet:"invertedLight",size:"small",children:b.Ru.get("web-player.your-library-x.error-button")})})]}),ot=(0,i.createContext)(null);const st=({children:e})=>{const t=function(){const[e,t]=(0,ge.x)("ylx-expanded-folders",[]),r=(0,i.useCallback)((t=>e.includes(t)),[e]),a=(0,i.useCallback)(((r,i)=>{const a=e.indexOf(r);if(i){if(-1!==a)return;t([...e,r])}else{if(-1===a)return;t(e.filter((e=>e!==r)))}}),[e,t]);return{expandedFolders:e,getIsFolderExpanded:r,setIsFolderExpanded:a}}();return(0,w.jsx)(ot.Provider,{value:t,children:e})},ct="fYWNdY4zhj4OX_T2Xtg6",dt="BRX6aJUAuAsvHKD_fpbo",ut="ZZsPF3Sn4h7m0_5Clhk0",pt="IZq_xBKdh88HLD4QY90X",gt="PUipCs3_0Qott0Sru3pB",mt="XAOxFVWnd185_vZ5zPGu",yt="YsCa3XbOXEm79LH0B7do",xt="eC25_w41L83mXDCqdm_A",bt="VyDwqqtx0153zD8a3TED",ht="rOgsguaurlHVlgCTY0P7",ft="zS8ATyQNwnAiEoPrCcIo",St="Zwr4MoUVImDin82vBn4y",vt="lb8li6m8Zei4tr0zNKxX",Ct="aK6vld0FgHGxjz6IiHyS",wt="Xw1OibA6EkrU4F47EMw9",Pt="_EFIA9HjgZxxgTSZzQcg",Rt="JUPaw8kZF94Coth4G88s",jt="main-yourLibraryX-listItem",Tt="c1PJ2LHU0EnzyA0jDc1j",At=({isScrolled:e})=>(0,w.jsxs)("div",{className:n()(St,Ct,{[wt]:e}),children:[(0,w.jsx)(be.E,{variant:"marginalBold",semanticColor:"textSubdued",children:b.Ru.get("web-player.your-library-x.expanded-list-header.title")}),(0,w.jsx)(be.E,{variant:"marginalBold",semanticColor:"textSubdued",children:b.Ru.get("web-player.your-library-x.expanded-list-header.date-added")}),(0,w.jsx)(be.E,{variant:"marginalBold",semanticColor:"textSubdued",children:b.Ru.get("web-player.your-library-x.expanded-list-header.played-at")})]});var Dt=r(26057);const It=()=>null,Lt=()=>null;const Ot=()=>({getFocusElement:null,registerFocusElement:null});var Et=r(64508),kt=r(55937);const Nt="a2XwshgvydvJO9If_GzQ",Ft="aVLBGREPTnbTFhkSdUMV",Mt="ViXEX4SVVU_NA7zcS9kd",Bt="pQvrkwXAqZnbSqJiiQuo",Ut="mA1QNQx6oUXgQ8kMID2S",_t={marginBlockEnd:0,willChange:"transform, opacity"},Vt=({filterId:e,isPrimaryFilter:t,isPlaceholder:r,resetFilterIds:a,toggleFilterId:l,allowedDropTargetMimeTypes:o=I.Vp,className:s,innerRef:c,index:d=0,spec:u,...p})=>{const g=(0,C.s)(),m=(0,kt.t)(),y=p.selected,x=e?m.getFilterLabel(e):"",b=(0,i.useCallback)((()=>{!e||y&&t?(a(),y&&t&&e?g.logInteraction(u.filterChipFactory({identifier:x,position:d}).hitClearFilter()):g.logInteraction(u.clearButtonFactory().hitClearFilter())):(l(e),y?g.logInteraction(u.filterChipFactory({identifier:x,position:d}).hitClearFilter()):g.logInteraction(u.filterChipFactory({identifier:x,position:d}).hitFilter()))}),[e,x,y,t,a,l,d,g,u]),h=(0,i.useCallback)((e=>{e.detail>1||r||b()}),[r,b]),{className:f,dropPosition:S,...v}=(0,L.A)({allowedMimeTypesByDropPosition:{[I.Nz.ON]:o},onLongDragOver:b});return(0,w.jsx)(Et.v,{...p,"aria-label":p["aria-label"],...v,...S===I.Nz.ON?{selectedColorSet:"base"}:void 0,className:n()(s,f,{[Ft]:S===I.Nz.ON,[Ut]:r}),onClick:h,selectedColorSet:S===I.Nz.ON?"invertedDark":"invertedLight",secondary:y&&!t,style:_t,ref:c,tabIndex:-1})};var Ht=r(28801);const Wt={marginBlockEnd:0,willChange:"transform, opacity"},zt=({filterId:e,isPrimaryFilter:t,isPlaceholder:r,resetFilterIds:a,toggleFilterId:l,allowedDropTargetMimeTypes:o=I.Vp,className:s,innerRef:c,index:d=0,spec:u,...p})=>{const g=(0,C.s)(),m=(0,kt.t)(),y=p.selected,x=e?m.getFilterLabel(e):"",b=(0,i.useCallback)((()=>{!e||y&&t?(a(),y&&t&&e?g.logInteraction(u.filterChipFactory({identifier:x,position:d}).hitClearFilter()):g.logInteraction(u.clearButtonFactory().hitClearFilter())):(l(e),y?g.logInteraction(u.filterChipFactory({identifier:x,position:d}).hitClearFilter()):g.logInteraction(u.filterChipFactory({identifier:x,position:d}).hitFilter()))}),[e,x,y,t,a,l,d,g,u]),h=(0,i.useCallback)((e=>{e.detail>1||r||b()}),[r,b]),{className:f,dropPosition:S,...v}=(0,L.A)({allowedMimeTypesByDropPosition:{[I.Nz.ON]:o},onLongDragOver:b});return(0,w.jsx)(Ht.m,{...p,"aria-label":p["aria-label"],...v,...S===I.Nz.ON?{selectedColorSet:"base"}:void 0,className:n()(s,f,{[Ft]:S===I.Nz.ON,[Ut]:r}),onClick:h,style:Wt,ref:c,tabIndex:-1})},Xt=[D.fl.TRACKS,D.fl.LOCAL_TRACKS,D.fl.ALBUMS,D.fl.ARTISTS,D.fl.PLAYLISTS_V2,D.fl.SHOWS,D.fl.AUDIOBOOKS,D.fl.EPISODES,D.fl.FOLDERS],Kt=[D.fl.TRACKS,D.fl.LOCAL_TRACKS,D.fl.ALBUMS,D.fl.EPISODES,D.fl.PLAYLISTS_V2,D.fl.FOLDERS],Yt=[D.fl.TRACKS,D.fl.LOCAL_TRACKS,D.fl.ALBUMS,D.fl.EPISODES,D.fl.PLAYLISTS_V2,D.fl.FOLDERS];r(85507);const Zt=()=>[];function Gt(e){return{type:"contentType",id:e.id,name:e.name}}function Jt(e){return e.id.startsWith("spotify:concept:")?{type:"tag",id:(t={tagUri:e.id,tagName:e.name,entityCount:0}).tagUri,name:t.tagName,count:t.entityCount}:Gt(e);var t}var qt=r(77786);const Qt=(0,i.memo)((function({availableFilters:e,selectedFilters:t,toggleFilterId:r,resetFilterIds:a,className:n,spec:l,inFolderView:o}){const s=!(t||e),{availableRefiners:c,activeRefiners:d,allContentTypeRefiners:u}=(({availableFilters:e,activeFilters:t,inFolderView:r})=>{const i=e?.map(Gt),a=t?.map(Jt)??[],n=Zt(),l=ye();return{availableRefiners:t?.length||!l||r?i:n,activeRefiners:a,allContentTypeRefiners:i}})({availableFilters:e,activeFilters:t,inFolderView:o}),{registerFocusElement:p}=Ot(),m=s?u:[...d??[],...c??[]],y=(0,i.useRef)(null),x=(0,i.useCallback)((()=>{(0,qt.MS)(y.current,y.current?.nextElementSibling instanceof HTMLElement?y.current?.nextElementSibling:null),a()}),[a]),h=ye();return m&&0!==m?.length?(0,w.jsxs)(Dt.F,{className:n,ariaLabel:b.Ru.get("web-player.your-library-x.filter_options"),children:[!!t?.length&&(0,w.jsx)(zt,{resetFilterIds:x,toggleFilterId:r,allowedDropTargetMimeTypes:Xt,"aria-label":b.Ru.get("web-player.your-library-x.clear_filters"),innerRef:y,spec:l}),m.map(((e,t)=>{const n=d?.includes(e),o=0===t,c=(0,w.jsx)(Vt,{innerRef:void 0,filterId:e.id,isPrimaryFilter:o,isPlaceholder:s,resetFilterIds:a,toggleFilterId:r,selected:n,spec:l,index:t,children:e.name},e.id);return h&&o?(0,w.jsx)(g.h,{menu:(0,w.jsx)(i.Suspense,{fallback:!0,children:(0,w.jsx)(Lt,{refiner:e,resetFilterIds:a,isSelected:n})}),children:c},e.id):c})),h&&!d?.length&&!o&&(0,w.jsx)(It,{})]}):null})),$t="",er=(0,i.createContext)({openedFolderUri:$t,pushFolder:()=>{},popFolder:()=>{},resetFolder:()=>{},change:"PUSH"}),tr=({children:e})=>{const{setFilter:t}=(0,i.useContext)(Q.g),[r,a]=(0,ge.x)("opened-folder-uri",$t),n=(0,i.useRef)([r??$t]),l=(0,i.useRef)("PUSH"),o=(0,i.useCallback)((e=>{a(e),t($t)}),[a,t]),s=(0,i.useCallback)((e=>{n.current.push(e),l.current="PUSH",o(n.current.at(-1))}),[o]),c=(0,i.useCallback)((()=>{n.current.pop();const e=n.current.at(-1);return l.current="POP",o(e),e}),[o]),d=(0,i.useCallback)((()=>{n.current=[$t],o($t)}),[o]);return(0,w.jsx)(er.Provider,{value:{openedFolderUri:r,pushFolder:s,popFolder:c,resetFolder:d,change:l.current},children:e})};var rr=r(94411),ir=r(35499),ar=r(53634),nr=r(16493),lr=r(61183),or=r(72368),sr=r(46723),cr=r(67264),dr=r(96839),ur=r(91239),pr=r(72190),gr=r(84613),mr=r(60065);const yr=({iconSize:e="small"})=>(0,w.jsx)("span",{className:gt,children:(0,w.jsx)(mr.C,{size:e,semanticColor:"textBrightAccent",className:pt})});var xr=r(2262);const br=({children:e,title:t,subtitleSlot:r,isPlaying:i})=>{const a=(0,d.NC)(xr.rW);return(0,w.jsx)(Ie.Zp,{label:(0,w.jsxs)("div",{className:n()({"circular-sp-vietnamese":a},ft),children:[(0,w.jsxs)("div",{children:[t,r]}),i&&(0,w.jsx)(yr,{})]}),placement:"right",showDelay:0,children:e})},hr=e=>{const t=(0,i.useRef)(null);return(0,ir.c0)(e.uri)?(0,w.jsx)(gr.cW,{parentRef:e.parentRef,api:t,children:(0,w.jsx)(br,{...e})}):(0,w.jsx)(br,{...e})};var fr=r(35833),Sr=r(85759),vr=r(75240);const Cr=({leading:e,subtitle:t,uri:r})=>{const i=`listrow-subtitle-${r}`;return(0,w.jsx)("div",{className:vr.A.subtitle,children:(0,w.jsxs)(fr.j,{className:vr.A.link,id:i,dir:"auto",children:[(0,w.jsx)("span",{className:vr.A.subtitleLeadingWrapper,children:e}),(0,w.jsx)("span",{className:vr.A.subtitleText,children:t})]})})},wr=({leading:e,subtitle:t,uri:r})=>{const i=`card-subtitle-${r}`;return(0,w.jsx)("div",{className:vr.A.subtitle,children:(0,w.jsxs)(Sr.j,{lineClamp:1,className:vr.A.link,id:i,role:"gridcell",dir:"auto",children:[(0,w.jsx)("span",{className:vr.A.subtitleLeadingWrapper,children:e}),t]})})};var Pr=r(33165),Rr=r(61735),jr=r(94625),Tr=r(23989),Ar=r(50082);const Dr=new Set(["Unidentified","Alt","AltGraph","CapsLock","Control","Fn","FnLock","Meta","NumLock","ScrollLock","Shift","Symbol","SymbolLock","Hyper","Super","Enter","Tab","ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Home","PageDown","PageUp","Backspace","Clear","Copy","CrSel","Cut","Delete","EraseEof","ExSel","Insert","Paste","Redo","Undo","Accept","Again","Attn","Cancel","ContextMenu","Escape","Execute","Find","Help","Pause","Play","Props","Select","ZoomIn","ZoomOut","BrightnessDown","BrightnessUp","Eject","LogOff","Power","PowerOff","PrintScreen","Hibernate","Standby","WakeUp","AllCandidates","Alphanumeric","CodeInput","Compose","Convert","Dead","FinalMode","GroupFirst","GroupLast","GroupNext","GroupPrevious","ModeChange","NextCandidate","NonConvert","PreviousCandidate","Process","SingleCandidate","HangulMode","HanjaMode","JunjaMode","Eisu","Hankaku","Hiragana","HiraganaKatakana","KanaMode","KanjiMode","Katakana","Romaji","Zenkaku","ZenkakuHankaku","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","Soft1","Soft2","Soft3","Soft4","ChannelDown","ChannelUp","Close","MailForward","MailReply","MailSend","MediaClose","MediaFastForward","MediaPause","MediaPlay","MediaPlayPause","MediaRecord","MediaRewind","MediaStop","MediaTrackNext","MediaTrackPrevious","New","Open","Print","Save","SpellCheck","Key11","Key12","AudioBalanceLeft","AudioBalanceRight","AudioBassBoostDown","AudioBassBoostToggle","AudioBassBoostUp","AudioFaderFront","AudioFaderRear","AudioSurroundModeNext","AudioTrebleDown","AudioTrebleUp","AudioVolumeDown","AudioVolumeUp","AudioVolumeMute","MicrophoneToggle","MicrophoneVolumeDown","MicrophoneVolumeUp","MicrophoneVolumeMute","SpeechCorrectionList","SpeechInputToggle","LaunchApplication1","LaunchApplication2","LaunchCalendar","LaunchContacts","LaunchMail","LaunchMediaPlayer","LaunchMusicPlayer","LaunchPhone","LaunchScreenSaver","LaunchSpreadsheet","LaunchWebBrowser","LaunchWebCam","LaunchWordProcessor","BrowserBack","BrowserFavorites","BrowserForward","BrowserHome","BrowserRefresh","BrowserSearch","BrowserStop","AppSwitch","Call","Camera","CameraFocus","EndCall","GoBack","GoHome","HeadsetHook","LastNumberRedial","Notification","MannerMode","VoiceDial","TV","TV3DMode","TVAntennaCable","TVAudioDescription","TVAudioDescriptionMixDown","TVAudioDescriptionMixUp","TVContentsMenu","TVDataService","TVInput","TVInputComponent1","TVInputComponent2","TVInputComposite1","TVInputComposite2","TVInputHDMI1","TVInputHDMI2","TVInputHDMI3","TVInputHDMI4","TVInputVGA1","TVMediaContext","TVNetwork","TVNumberEntry","TVPower","TVRadioService","TVSatellite","TVSatelliteBS","TVSatelliteCS","TVSatelliteToggle","TVTerrestrialAnalog","TVTerrestrialDigital","TVTimer","AVRInput","AVRPower","ColorF0Red","ColorF1Green","ColorF2Yellow","ColorF3Blue","ColorF4Grey","ColorF5Brown","ClosedCaptionToggle","Dimmer","DisplaySwap","DVR","Exit","FavoriteClear0","FavoriteClear1","FavoriteClear2","FavoriteClear3","FavoriteRecall0","FavoriteRecall1","FavoriteRecall2","FavoriteRecall3","FavoriteStore0","FavoriteStore1","FavoriteStore2","FavoriteStore3","Guide","GuideNextDay","GuidePreviousDay","Info","InstantReplay","Link","ListProgram","LiveContent","Lock","MediaApps","MediaAudioTrack","MediaLast","MediaSkipBackward","MediaSkipForward","MediaStepBackward","MediaStepForward","MediaTopMenu","NavigateIn","NavigateNext","NavigateOut","NavigatePrevious","NextFavoriteChannel","NextUserProfile","OnDemand","Pairing","PinPDown","PinPMove","PinPToggle","PinPUp","PlaySpeedDown","PlaySpeedReset","PlaySpeedUp","RandomToggle","RcLowBattery","RecordSpeedNext","RfBypass","ScanChannelsToggle","ScreenModeNext","Settings","SplitScreenToggle","STBInput","STBPower","Subtitle","Teletext","VideoModeNext","Wink","ZoomToggle"]);function Ir(e,t){const[r,a]=(0,i.useState)(""),n=(0,i.useRef)(r);n.current=r;const l=(0,i.useRef)(null);return(0,i.useEffect)((()=>{const r=e.current;if(!r||!t)return a(""),()=>{};const i=e=>{const t="Backspace"===e.key,r=" "===e.key,i=e.metaKey||e.ctrlKey,o=e.target instanceof HTMLElement&&e.target?.matches("input, textarea, [contenteditable]"),s=e.isComposing||229===e.keyCode,c=(d=e.key,Dr.has(d)&&!t);var d;const u=r&&!n.current,p=t&&!n.current;if(i||o||s||c||u||p)return;(t&&n.current||r)&&(e.preventDefault(),e.stopPropagation()),a((r=>t?r.slice(0,-1):r+e.key)),l.current&&clearTimeout(l.current),l.current=setTimeout((()=>a("")),1e3)};return r.addEventListener("keydown",i,!0),()=>{r.removeEventListener("keydown",i,!0),l.current&&clearTimeout(l.current)}}),[e,t]),r}const Lr=(0,i.createContext)({setTypeaheadResult:({uid:e,str:t})=>{if(e||t)throw new Error("setTypeaheadResult must be used within a TypeaheadProvider")},typeaheadResult:{uid:null,str:""}}),Or=({children:e,containerRef:t,findMatchingTypeaheadUid:r,isEnabled:a=!0})=>{const[n,l]=(0,i.useState)({uid:null,str:""}),o=(0,i.useMemo)((()=>({typeaheadResult:n,setTypeaheadResult:l})),[n,l]),s=Ir(t,a),c=(0,i.useRef)(s);c.current=s;const d=(0,i.useRef)(r);return d.current=r,(0,i.useEffect)((()=>{s&&a?d.current(s).then((e=>{s===c.current&&l({uid:e,str:s})})):l({uid:null,str:""})}),[a,s,l]),(0,w.jsx)(Lr.Provider,{value:o,children:e})};var Er=r(12076);const kr={state:{referrer:"your_library",preventMoveFocus:!0}};function Nr(e,t,r,a){const{filter:n}=(0,i.useContext)(Q.g),{isActive:l}=(0,Ar.l_)(e),o=function(e){const{typeaheadResult:{uid:t,str:r}}=(0,i.useContext)(Lr);return t===e?r:null}(e),s=!!o,c=(0,Tr.W)({uri:e,type:"link"})?(0,Er.hF)(t):t,d=(0,i.useRef)(null),u=(0,Pr.Zp)(),p=(0,i.useCallback)((e=>{e.preventDefault(),a?a():c&&u(c,kr)}),[a,u,c]);(0,i.useLayoutEffect)((()=>{s&&d.current?.closest('[role="row"], [role="listitem"]')?.querySelector("button")?.focus({preventScroll:!0})}),[s]);return{isActive:l,onClick:p,contents:n||o?(0,w.jsx)("span",{ref:d,children:(0,w.jsx)(or.M,{autoEscape:!0,searchWords:[n.trim(),...o?.split(" ")??""],textToHighlight:r})}):r}}const Fr=({uri:e,playbackUri:t=e,title:r,menu:i,to:a=(0,dr.o_)(e)?.toURLPath(!0)||"",handleNavigate:l})=>{const{isActive:o,contents:s}=Nr(t,a,r,l),c=`listrow-title-${e}`;return(0,w.jsx)(g.h,{menu:i,children:(0,w.jsx)(Rr.d,{id:c,lineClamp:1,className:n()(vr.A.link,vr.A.titleLink),semanticColor:o?"textBrightAccent":"textBase",dir:"auto",children:s})})},Mr=({uri:e,playbackUri:t=e,title:r,menu:i,to:a=(0,dr.o_)(e)?.toURLPath(!0)||"",handleNavigate:l})=>{const{isActive:o,onClick:s,contents:c}=Nr(t,a,r,l);return(0,w.jsx)(g.h,{menu:i,children:(0,w.jsx)(jr.Z,{lineClamp:1,className:n()(vr.A.link,vr.A.titleLink),semanticColor:o?"textBrightAccent":"textBase",href:a,onClick:s,role:"gridcell",dir:"auto",children:c})})},Br=[D.fl.ALBUMS,D.fl.ARTISTS,D.fl.PLAYLISTS_V2,D.fl.SHOWS,D.fl.FOLDERS,D.fl.PSEUDO_PLAYLISTS],Ur=[D.fl.PLAYLISTS_V2,D.fl.FOLDERS];var _r=r(82543);const Vr=({isConfirmationForPlaylist:e,onConfirm:t,onClose:r})=>{const i=e?b.Ru.get("web-player.your-library-x.unpin-confirmation-dialog.title-playlist"):b.Ru.get("web-player.your-library-x.unpin-confirmation-dialog.title-folder");return(0,w.jsx)(_r.T,{"aria-label":i,titleText:i,descriptionText:e?b.Ru.get("web-player.your-library-x.unpin-confirmation-dialog.message-playlist"):b.Ru.get("web-player.your-library-x.unpin-confirmation-dialog.message-folder"),onConfirm:t,onClose:r,confirmText:b.Ru.get("web-player.your-library-x.unpin-confirmation-dialog.confirm-button-text"),confirmLabel:e?b.Ru.get("web-player.your-library-x.unpin-confirmation-dialog.confirm-button-label-playlist"):b.Ru.get("web-player.your-library-x.unpin-confirmation-dialog.confirm-button-label-folder"),cancelText:b.Ru.get("web-player.your-library-x.unpin-confirmation-dialog.cancel-button-text"),allowHTML:!0})};var Hr=r(89848);function Wr({onApplyDrop:e,spec:t,isDropTargetPinned:r}){const a=(0,kt.t)(),{contains:n}=(0,Hr.p)("ylpin"),[l,o]=(0,i.useState)(null),s=(0,i.useCallback)((async(t,i)=>{if(r)return void e(t,i);const{[D.fl.PLAYLISTS_V2]:a=[],[D.fl.FOLDERS]:l=[]}=t,s=[...a,...l];if(!!s.length&&(await n(...s)).some(Boolean)){if(s.length>1)throw new Error("Reordering multiple pinned items at once is not supported");o({dropData:t,dropPosition:i})}else e(t,i)}),[r,n,e]),c=(0,C.s)();return{applyDropWithUnpinConfirmation:s,unpinConfirmationDialog:l?(0,w.jsx)(Vr,{isConfirmationForPlaylist:!l.dropData[D.fl.FOLDERS]?.length,onClose:()=>o(null),onConfirm:async()=>{const{[D.fl.PLAYLISTS_V2]:r=[],[D.fl.FOLDERS]:i=[]}=l.dropData;await a.unpin([...r,...i][0]),t?.dragUnpinItem&&c.logInteraction(t.dragUnpinItem({itemToUnpin:[...r,...i][0]})),e(l.dropData,l.dropPosition),o(null)}}):null}}function zr(){const{dropOriginUri:e,sectionId:t}=(0,i.useContext)(k.O_);return{dropOriginIsYLX:e===j.gv,entityIsInFolder:t>0}}var Xr=r(73997);function Kr(){const e=(0,Xr.g)(),{dropOriginIsYLX:t}=zr();return(0,i.useCallback)((async(r,i)=>{const a=await e.contains(r);if(1!==new Set(a).size)throw new Error("Dropping a mix of newly added and moved playlists is not supported");if(a[0]){if(r.length>1)throw new Error("Moving multiple playlists at once is not supported");t?await e.move({uri:r[0]},i):await e.move({uri:r[0]},i,!0)}else await e.add(r,i)}),[t,e])}var Yr=r(28781),Zr=r(68966);function Gr({dropTargetUri:e,spec:t,isDropTargetPinned:r}){const a=(0,Xr.g)(),n=(0,i.useContext)(Yr.Z),l=(0,C.s)(),o=Kr(),s=(0,i.useCallback)((async(i,s)=>{const{[D.fl.PLAYLISTS_V2]:c=[],[D.fl.FOLDERS]:[d]=[]}=i,u=s===I.Nz.BEFORE?{before:{uri:e}}:{after:{uri:e}};if(r){const e=i[Object.keys(i)[0]][0];if((0,dr.tb)(e)||(0,dr.fp)(e)){const t=Jr((await a.getContents()).items,e);-1===t?await a.add([e],{before:"start"}):t>0&&((0,dr.tb)(e)?await a.move({uri:e},{before:"start"}):await a.moveFolder({uri:e},{before:"start"}))}else if(!(0,dr.Z0)(e)){const[t]=await n.contains(e);t||await n.add({uris:[e]})}await n.pin(e,u),l.logInteraction(t.dragPinItem({itemToPin:e}))}else d?await a.moveFolder({uri:d},u):c.length&&await o(c,u);l.logInteraction(t.dragSort())}),[e,r,n,l,t,a,o]),{unpinConfirmationDialog:c,applyDropWithUnpinConfirmation:d}=Wr(r?{onApplyDrop:s,spec:t,isDropTargetPinned:r}:{onApplyDrop:s});return{handleDropBeforeOrAfterRootlistItem:(0,i.useCallback)((async(e,t)=>{const{[D.fl.PLAYLISTS_V2]:r=[],[D.fl.FOLDERS]:i=[]}=e;if(r.length&&i.length)throw new Error("Dropping a mix of playlists and folders is not supported");if(i.length>1)throw new Error("Dropping multiple folders is not supported");d(e,t)}),[d]),unpinConfirmationDialog:c}}function Jr(e,t,r=0){for(const i of e)if((0,Zr.Af)(i)||(0,Zr.sA)(i)){if((0,dr.B2)(i.uri,t))return r;if((0,Zr.sA)(i)){const e=Jr(i.items,t,r+1);if(-1!==e)return e}}return-1}var qr=r(37302);const Qr={state:{referrer:"your_library",preventMoveFocus:!0}};function $r({uri:e,to:t=(0,dr.o_)(e)?.toURLPath(!0)||"",type:r,handleNavigate:a,dragLabel:n,isPinned:l,canReorder:o,allowedDropTargetDropOnMimeTypes:s=[],onDropTargetDropOn:c,onLongDragOver:d,openDeleteDialog:u,togglePlay:p,isItemInGrid:g,playInsteadOfNavigating:m=!1,isPlaying:y,isActive:x,spec:b,folderDepth:h}){const f=(0,Tr.W)({uri:e,type:"link"})?(0,Er.hF)(t):t,S=(0,Pr.Zp)(),v=(0,Pr.zy)(),w=(0,i.useCallback)((()=>{S(f,Qr)}),[S,f]),P=(0,C.s)(),R=(0,i.useRef)(0),T=(0,i.useRef)(null),A=(0,i.useCallback)((({target:e})=>e instanceof HTMLElement&&!T.current?.contains(e)),[]),O=(0,i.useCallback)((t=>{if(!A(t)){if(t.preventDefault(),t.currentTarget.scrollIntoView({block:"nearest"}),m){if(R.current>Date.now())return;return R.current=Date.now()+300,void(y||(p?.(),P.logInteraction(b.yourLibraryItemFactory().hitPlay({itemToBePlayed:e}))))}a?a():f&&S(f,{...Qr,replace:f===v.pathname}),P.logInteraction(b.yourLibraryItemFactory().hitUiNavigate({destination:e}))}}),[A,m,a,f,P,b,e,p,y,S,v.pathname]),E=(0,i.useCallback)((t=>{m||A(t)||p&&(x?y?P.logInteraction(b.yourLibraryItemFactory().doubleHitPause({itemToBePaused:e})):P.logInteraction(b.yourLibraryItemFactory().doubleHitResume({itemToBeResumed:e})):P.logInteraction(b.yourLibraryItemFactory().doubleHitPlay({itemToBePlayed:e})),p?.())}),[A,m,p,x,y,P,b,e]),k=(0,i.useCallback)((()=>{P.logInteraction(b.yourLibraryItemFactory().secondaryHitUiReveal())}),[P,b]),{draggable:N,onDragStart:F}=(0,qr.P)({itemUris:[e],itemMimeTypes:[(0,D.j3)(r)],dragLabelText:n,sectionId:h??0,dropOriginUri:j.gv});let M=[];l?M=Br:o&&(M=Ur);const B={[I.Nz.ON]:s,[I.Nz.BEFORE]:M,[I.Nz.AFTER]:M},{handleDropBeforeOrAfterRootlistItem:U,unpinConfirmationDialog:_}=Gr({dropTargetUri:e,spec:b,isDropTargetPinned:l}),V=(0,i.useCallback)(((e,t)=>{t===I.Nz.ON?c?.(e,t):t!==I.Nz.BEFORE&&t!==I.Nz.AFTER||U(e,t)}),[c,U]),{dropPosition:H,className:W,...z}=(0,L.A)({uri:e,allowedMimeTypesByDropPosition:B,onDrop:V,onLongDragOver:d??w,reorderDirection:g?"horizontal":"vertical"}),X=(0,i.useCallback)((t=>{t.repeat||A(t)||("Backspace"!==t.key&&"Delete"!==t.key||!u||u(),"Enter"===t.key&&t.shiftKey&&p&&(t.preventDefault(),p()),"Enter"===t.key&&P.logInteraction(b.yourLibraryItemFactory().keyStrokeUiNavigate({destination:e})))}),[A,P,u,b,p,e]),K=(0,dr.o_)(v.pathname,{parseUnknown:!0})?.toURI();return{onClick:O,onDoubleClick:E,draggable:N&&!!n,onDragStart:F,onKeyDown:X,unpinConfirmationDialog:_,dropPosition:H,dropTargetClassName:W,logRightClick:k,isViewActive:!!K&&(0,dr.B2)(e,K),itemRef:T,...z}}var ei=r(22058),ti=r(83086);const ri=e=>{switch(e){case ei.c.ALBUM:return b.Ru.get("web-player.your-library-x.type-album");case ei.c.ARTIST:return b.Ru.get("web-player.your-library-x.type-artist");case ei.c.FOLDER:return b.Ru.get("web-player.your-library-x.type-folder");case ei.c.AUDIOBOOK:return b.Ru.get("web-player.your-library-x.type-audiobook");case ei.c.YOUR_EPISODES:case ei.c.LOCAL_FILES:case ei.c.LIKED_SONGS:case ei.c.PLAYLIST:return b.Ru.get("web-player.your-library-x.type-playlist");case ei.c.SHOW:return b.Ru.get("web-player.your-library-x.type-show");case ei.c.PRE_RELEASE_ALBUM:return b.Ru.get("web-player.your-library-x.type-prerelease-album");case ei.c.PRE_RELEASE_BOOK:return b.Ru.get("web-player.your-library-x.type-prerelease-audiobook");default:return(0,ti.d)(e)}},ii=e=>{switch(e){case ei.c.YOUR_EPISODES:case ei.c.LIKED_SONGS:case ei.c.LOCAL_FILES:return ei.c.PLAYLIST;default:return e}};var ai=r(48068);const ni=i.createContext(!1),li=({children:e,isCompact:t})=>(0,w.jsx)(ni.Provider,{value:t,children:e}),oi=()=>(0,i.useContext)(ni),si="wJTUKAyYI219kJtclJLa",ci="q0_cpEyu_8EC7he96qT_",di="L8ET6xwMh_wMEqCpmunH",ui="D_1eJKOJ3wTCKO93GX06",pi="_7kcfiJ2UNEh3CDR9Wau",gi="N8wAJha8ApfxgOfqv4UM",mi="iJMxV9zMXSfrjJPyB3Fw",yi=({uri:e,to:t=(0,dr.o_)(e)?.toURLPath(!0)||"",handleNavigate:r,dragLabel:a,name:l,subtitle:o,cover:s,type:c,downloadButton:d,canReorder:u,allowedDropTargetDropOnMimeTypes:p,onDropTargetDropOn:m,onLongDragOver:y,menu:x,leading:b,openDeleteDialog:h,togglePlay:f,isPinned:S,shouldShowType:v,playbackUri:C,isPlaying:P,isActive:R,playInsteadOfNavigating:j,spec:T,index:A,animateClassName:D="",animateState:L,preReleaseIcon:O,lockedIcon:E})=>{const{onClick:k,onDoubleClick:N,draggable:F,onDragStart:M,onKeyDown:B,dropPosition:U,dropTargetClassName:_,unpinConfirmationDialog:V,logRightClick:H,isViewActive:W,itemRef:z,...X}=$r({uri:e,to:t,handleNavigate:r,dragLabel:a,isPinned:S,canReorder:u,allowedDropTargetDropOnMimeTypes:p,onDropTargetDropOn:m,openDeleteDialog:h,onLongDragOver:y,togglePlay:f,isItemInGrid:!0,isPlaying:P,isActive:R,spec:T,playInsteadOfNavigating:j}),K=(0,w.jsx)(Mr,{uri:e,title:l,menu:x,handleNavigate:r,playbackUri:C}),Y=(0,w.jsx)(wr,{leading:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(ai.g,{pinned:S}),E,O,d]}),subtitle:(0,w.jsxs)(w.Fragment,{children:[v&&ri(c),!!o&&v&&" • ",o]}),uri:e}),Z=(0,i.useRef)(null),G=oi();let J=(0,w.jsx)(g.h,{menu:x,onShow:H,children:(0,w.jsx)(pr.E,{uri:e,trigger:pr.l.OnMouseDown,children:(0,w.jsx)(sr.Z,{id:e,title:K,subtitle:Y,media:s,size:"sm",leading:b,className:n()(si,{[D]:L}),variant:W?"tinted":void 0,onClick:k,onDoubleClick:N,padding:cr.CJ,...X})})});return G&&(J=(0,w.jsx)(hr,{title:K,subtitleSlot:Y,uri:e,isPlaying:P,parentRef:Z,children:(0,w.jsx)("div",{children:(0,w.jsx)(g.h,{menu:x,onShow:H,children:(0,w.jsx)(pr.E,{uri:e,trigger:pr.l.OnMouseDown,children:(0,w.jsx)(sr.Z,{id:e,title:void 0,media:s,size:"sm",className:n()(si,ci,{[D]:L}),variant:W?"tinted":void 0,onClick:k,onDoubleClick:N,padding:cr.vw,ref:Z,...X})})})})})),(0,w.jsxs)(w.Fragment,{children:[V,(0,w.jsx)(ur.W,{draggable:F,onDragStart:M,onKeyDown:B,className:n()(_,{[Nt]:U===I.Nz.ON,[Mt]:U===I.Nz.BEFORE,[Bt]:U===I.Nz.AFTER}),"aria-selected":R,innerRef:z,"aria-posinset":A,children:J})]})};var xi=r(36146),bi=r(86346);const hi=({name:e,uri:t,togglePlay:r,spec:a,isActive:l,isPlaying:o,size:s})=>{const c=(0,C.s)(),d=(0,i.useCallback)((()=>{l?o?c.logInteraction(a.yourLibraryItemFactory().doubleHitPause({itemToBePaused:t})):c.logInteraction(a.yourLibraryItemFactory().doubleHitResume({itemToBeResumed:t})):c.logInteraction(a.yourLibraryItemFactory().doubleHitPlay({itemToBePlayed:t})),r()}),[l,o,c,a,r,t]);return(0,w.jsx)("div",{className:n()(pi,{[mi]:o,[gi]:"small"===s}),role:"gridcell",children:(0,w.jsx)(bi.R,{isPlaying:o,onClick:d,ariaPlayLabel:b.Ru.get("playlist.a11y.play",e),ariaPauseLabel:b.Ru.get("playlist.a11y.pause",e),size:s})})};var fi=r(61350),Si=r(18139),vi=r(5141),Ci=r(11498),wi=r(47080);const Pi=(0,i.memo)((function({title:e,type:t,images:r,isCircular:i,color:a,animateState:l,animateClassName:o=""}){const s=(0,wi._)();return(0,w.jsx)(fi.b,{fadeIn:!0,images:s(r,48),shape:i?fi.u.CIRCLE:fi.u.ROUNDED_CORNERS,size:Si.Qe.SIZE_48,iconSize:"medium",type:t,title:e,className:n()(vr.A.entityImage,{[o]:l}),color:a,loadingMode:"eager"})})),Ri=(0,i.memo)((function({title:e,type:t,uri:r,images:a,isCircular:n,togglePlay:l,color:o,spec:s,isActive:c,isPlaying:u}){const p=(0,d.NC)(xr.AE),g=oi(),m=(0,wi._)(),[y,x]=(0,i.useState)("medium"),b=(0,i.useRef)(null);return(0,Ci.w)({onResize:({width:e})=>{x(e<90?"small":"medium")},refOrElement:b}),(0,w.jsx)("div",{className:ui,ref:b,children:(0,w.jsx)(xi.M,{images:m(a,250),FallbackComponent:e=>(0,w.jsx)(vi.s,{semanticColor:"textSubdued",type:t,size:"xxlarge",className:p?di:"",...e}),isCircular:n,color:o,loadingMode:"eager",children:l&&!g&&(0,w.jsx)(hi,{name:e,uri:r,togglePlay:l,spec:s,isActive:c,isPlaying:u,size:y})})})}));var ji=r(15983);const Ti="_ymJNIfklFmogab9uWY1",Ai=({folderDepth:e=0})=>(0,w.jsx)("li",{className:Ti,style:{"--ylx-folder-depth":e}}),Di=e=>{const{RowVariantComponent:t,uri:r,to:a=(0,dr.o_)(r)?.toURLPath(!0)||"",handleNavigate:l,folderDepth:o,className:s,dragLabel:c,isPinned:d,canReorder:u,allowedDropTargetDropOnMimeTypes:p,onDropTargetDropOn:g,onLongDragOver:m,style:y,openDeleteDialog:x,togglePlay:b,isPlaying:h,isActive:f,type:S,menu:v,name:C,subtitle:P,downloadButton:R,expandFolderButton:j,cover:T,alt:A,addedAt:D,lastPlayedAt:L,shouldShowType:O,playbackUri:E,playInsteadOfNavigating:k,spec:N,nrValidItems:F,index:M,lockedIcon:B,onKeyDown:U,preReleaseIcon:_,...V}=e,{onClick:H,onDoubleClick:W,onDragStart:z,onKeyDown:X,dropPosition:K,dropTargetClassName:Y,draggable:Z,unpinConfirmationDialog:G,logRightClick:J,isViewActive:q,itemRef:Q,...$}=$r({uri:r,to:a,type:S,handleNavigate:l,dragLabel:c,isPinned:d,canReorder:u,allowedDropTargetDropOnMimeTypes:p,onDropTargetDropOn:g,onLongDragOver:m,openDeleteDialog:x,togglePlay:b,isPlaying:h,isActive:f,playInsteadOfNavigating:k,spec:N,folderDepth:o}),ee=(0,i.useCallback)((e=>{X(e),U?.(e)}),[X,U]);return(0,w.jsxs)(w.Fragment,{children:[G,K===I.Nz.BEFORE&&(0,w.jsx)(Ai,{folderDepth:o}),(0,w.jsx)(ji.c,{style:{"--ylx-folder-depth":o,...y},draggable:Z,onDragStart:z,onDoubleClick:W,className:n()(s,Y,jt,{[Nt]:K===I.Nz.ON}),...V,...$,onKeyDown:ee,innerRef:Q,"aria-setsize":F,"aria-posinset":M+1,children:(0,w.jsx)(t,{...e,to:a,isActive:f,isViewActive:q,onClick:H,logRightClick:J,playInsteadOfNavigating:k,parentRef:Q})}),K===I.Nz.AFTER&&(0,w.jsx)(Ai,{folderDepth:o})]})};var Ii=r(11217);const Li=({locked:e})=>e?(0,w.jsx)(Ii.u,{semanticColor:"textSubdued",title:b.Ru.get("mwp.header.content.unavailable"),className:vr.A.icon,size:"xsmall"}):null;var Oi=r(60093);function Ei(e){const{uri:t,artists:r,isPremiumOnly:a}=e,{filter:n}=(0,i.useContext)(Q.g),{isPlaying:l,isActive:s}=(0,Ar.l_)(t),c=(0,o.wA)(),d=(0,i.useCallback)((()=>{c((0,ar.aw)(t))}),[c,t]),{togglePlay:u}=(0,Oi.P)({uri:t},{featureIdentifier:"album",referrerIdentifier:"your_library"});return{isPlaying:l,isActive:s,openDeleteDialog:d,togglePlay:a?void 0:u,menu:(0,w.jsx)(nr.h,{uri:t,canPin:e.canPin,isPinned:e.pinned,useDialogForUnfollow:!0,isInLibrary:!0}),subtitleText:(0,w.jsx)(or.M,{searchWords:[n.trim()],textToHighlight:r.at(0)?.name??""}),downloadButton:(0,w.jsx)(lr.M,{uri:t,size:"xsmall",className:vr.A.icon,as:"span"})}}const ki=({libraryItem:e,shouldShowType:t=!1,RowVariantComponent:r,spec:i,nrValidItems:a,index:n})=>{const{uri:l,images:o,name:s,pinned:c,type:d,addedAt:u,lastPlayedAt:p,color:g,isPremiumOnly:m}=e,{isPlaying:y,isActive:x,openDeleteDialog:b,togglePlay:h,menu:f,subtitleText:S,downloadButton:v}=Ei(e),C=(0,w.jsx)(Pi,{title:s,type:d,images:o,color:g}),P=(0,w.jsx)(Li,{locked:m});return(0,w.jsx)(Di,{RowVariantComponent:r,uri:l,cover:C,name:s,subtitle:S,downloadButton:v,alt:s,type:d,dragLabel:s,menu:f,togglePlay:h,openDeleteDialog:b,addedAt:u,lastPlayedAt:p,isPinned:c,isPlaying:y,isActive:x,shouldShowType:t,spec:i,nrValidItems:a,index:n,lockedIcon:P})},Ni=({libraryItem:e,shouldShowType:t=!1,spec:r,index:i})=>{const{uri:a,images:n,name:l,pinned:o,type:s,color:c,isPremiumOnly:d}=e,{togglePlay:u,menu:p,subtitleText:g,downloadButton:m,openDeleteDialog:y,isPlaying:x,isActive:b}=Ei(e),h=(0,w.jsx)(Ri,{title:l,type:s,images:n,uri:a,togglePlay:u,color:c,spec:r,isActive:b,isPlaying:x}),f=(0,w.jsx)(Li,{locked:d});return(0,w.jsx)(yi,{uri:a,name:l,subtitle:g,menu:p,dragLabel:l,cover:h,downloadButton:m,type:s,togglePlay:u,isPinned:o,shouldShowType:t,openDeleteDialog:y,isPlaying:x,isActive:b,spec:r,index:i,lockedIcon:f})};var Fi=r(64961);function Mi(e){const{uri:t}=e,r=(0,o.wA)(),{togglePlay:a}=(0,Oi.P)({uri:t},{featureIdentifier:"artist",referrerIdentifier:"your_library"}),{isPlaying:n,isActive:l}=(0,Ar.l_)(t);return{togglePlay:a,isPlaying:n,isActive:l,openDeleteDialog:(0,i.useCallback)((()=>{r((0,ar.aw)(t))}),[r,t]),menu:(0,w.jsx)(Fi.t,{uri:t,canPin:e.canPin,isPinned:e.pinned,useDialogForUnfollow:!0,isInLibrary:!0})}}const Bi=({libraryItem:e,shouldShowType:t,RowVariantComponent:r,spec:i,nrValidItems:a,index:n})=>{const{uri:l,images:o,name:s,type:c,addedAt:d,lastPlayedAt:u,pinned:p,color:g}=e,{togglePlay:m,isPlaying:y,isActive:x,openDeleteDialog:b,menu:h}=Mi(e),f=(0,w.jsx)(Pi,{title:s,type:c,images:o,isCircular:!0,color:g});return(0,w.jsx)(Di,{RowVariantComponent:r,uri:l,cover:f,name:s,type:c,alt:s,dragLabel:s,menu:h,togglePlay:m,openDeleteDialog:b,addedAt:d,lastPlayedAt:u,isPlaying:y,isActive:x,isPinned:p,shouldShowType:t,spec:i,nrValidItems:a,index:n})},Ui=({libraryItem:e,shouldShowType:t,spec:r,index:i})=>{const{uri:a,images:n,name:l,type:o,pinned:s,color:c}=e,{togglePlay:d,menu:u,openDeleteDialog:p,isPlaying:g,isActive:m}=Mi(e),y=(0,w.jsx)(Ri,{title:l,type:o,images:n,uri:a,togglePlay:d,isCircular:!0,color:c,spec:r,isActive:m,isPlaying:g});return(0,w.jsx)(yi,{uri:a,name:l,menu:u,dragLabel:l,cover:y,type:o,togglePlay:d,isPinned:s,shouldShowType:t,openDeleteDialog:p,isPlaying:g,isActive:m,spec:r,index:i})};var _i=r(32439);function Vi(e){const{uri:t,authorName:r}=e,{filter:a}=(0,i.useContext)(Q.g),n=(0,o.wA)(),{isPlaying:l,isActive:s}=(0,Ar.l_)(t);return{isPlaying:l,isActive:s,openDeleteDialog:(0,i.useCallback)((()=>{n((0,ar.aw)(t))}),[n,t]),menu:(0,w.jsx)(_i.p,{uri:t,canPin:e.canPin,isPinned:e.pinned,useDialogForUnfollow:!0,isInLibrary:!0}),subtitleText:(0,w.jsx)(or.M,{searchWords:[a.trim()],textToHighlight:r}),downloadButton:(0,w.jsx)(lr.M,{uri:t,size:"xsmall",className:vr.A.icon,as:"span"})}}const Hi=({libraryItem:e,shouldShowType:t,RowVariantComponent:r,spec:i,nrValidItems:a,index:n})=>{const{uri:l,images:o,name:s,type:c,pinned:d,addedAt:u,lastPlayedAt:p,color:g}=e,{isPlaying:m,isActive:y,openDeleteDialog:x,menu:b,subtitleText:h,downloadButton:f}=Vi(e),S=(0,w.jsx)(Pi,{title:s,type:c,images:o,color:g}),v=(0,w.jsx)(Li,{locked:e.isLocked});return(0,w.jsx)(Di,{RowVariantComponent:r,uri:l,cover:S,name:s,subtitle:h,alt:s,dragLabel:s,menu:b,openDeleteDialog:x,addedAt:u,lastPlayedAt:p,isPlaying:m,isActive:y,isPinned:d,shouldShowType:t,type:c,spec:i,nrValidItems:a,lockedIcon:v,index:n,downloadButton:f})},Wi=({libraryItem:e,shouldShowType:t,spec:r,index:i})=>{const{uri:a,images:n,name:l,type:o,pinned:s,color:c}=e,{menu:d,subtitleText:u,openDeleteDialog:p,isPlaying:g,isActive:m,downloadButton:y}=Vi(e),x=(0,w.jsx)(Ri,{title:l,type:o,images:n,uri:a,color:c,spec:r,isActive:m,isPlaying:g});return(0,w.jsx)(yi,{uri:a,name:l,subtitle:u,menu:d,dragLabel:l,cover:x,isPinned:s,shouldShowType:t,type:o,openDeleteDialog:p,isPlaying:g,isActive:m,spec:r,index:i,downloadButton:y})};var zi=r(11137),Xi=r(37036);const Ki=({uri:e,divider:t,onDeleteCallback:r})=>{const a=(0,f.W)(),n=(0,o.wA)(),l=(0,i.useCallback)((()=>{a({intent:"playlisting",type:"click"}),n((0,ar.OB)(e,r))}),[n,r,a,e]);return(0,w.jsx)(h.D,{role:"menuitem",divider:t,onClick:l,leadingIcon:(0,w.jsx)(Xi.P,{semanticColor:"textSubdued",size:"small"}),children:b.Ru.get("contextmenu.delete")})},Yi=i.memo((function(e){return(0,w.jsx)(v.pZ,{value:"delete-folder",children:(0,w.jsx)(Ki,{...e})})}));var Zi=r(53e3),Gi=r(35999),Ji=r(81687);const qi=({uri:e,spec:t})=>{const{togglePlay:r,isPlaying:a,isActive:n}=(0,Oi.P)({uri:e},{featureIdentifier:"folder"}),l=(0,C.s)(),o=(0,i.useCallback)((()=>{r(),t&&l&&(a?l.logInteraction(t.playButtonFactory({uri:e}).hitPause({itemToBePaused:e})):n?l.logInteraction(t.playButtonFactory({uri:e}).hitResume({itemToBeResumed:e})):l.logInteraction(t.playButtonFactory({uri:e}).hitPlay({itemToBePlayed:e})))}),[n,a,l,t,r,e]);return(0,w.jsx)(h.D,{role:"menuitem",onClick:o,leadingIcon:a?(0,w.jsx)(Gi._,{semanticColor:"textSubdued",size:"small"}):(0,w.jsx)(Ji.A,{semanticColor:"textSubdued",size:"small"}),children:a?b.Ru.get("pause"):b.Ru.get("play")})},Qi=i.memo((function(e){return(0,w.jsx)(v.pZ,{value:"create-folder",children:(0,w.jsx)(qi,{...e})})}));var $i=r(30777);const ea=({uri:e,name:t,divider:r,spec:a,handleRename:n})=>{const l=(0,C.s)(),s=(0,o.wA)(),c=(0,i.useCallback)((()=>{a&&l.logInteraction(a.editButtonFactory({uri:e}).hitUiReveal()),s((0,ar.O2)(t,n))}),[s,l,t,n,a,e]);return(0,w.jsx)(h.D,{role:"menuitem",divider:r,onClick:c,leadingIcon:(0,w.jsx)($i.G,{semanticColor:"textSubdued",size:"small"}),children:b.Ru.get("contextmenu.rename")})},ta=i.memo((function(e){return(0,w.jsx)(v.pZ,{value:"rename",children:(0,w.jsx)(ea,{...e})})}));var ra=r(20448),ia=r(31084);const aa=i.memo((function({reference:e,name:t="",onRename:r,onCreateCallback:i=(()=>{}),onDeleteCallback:a,canPin:n=j.oT.NO,isPinned:l=!1,isPlayable:o=!0}){const{spec:s}=(0,T.o)(e.uri),c=(0,ia.Ek)()&&o;return(0,w.jsx)(v.pZ,{value:"folder",children:(0,w.jsxs)(m.W,{children:[(0,w.jsx)(ta,{spec:s,uri:e.uri,name:t,handleRename:r}),(0,w.jsx)(Yi,{uri:e.uri,divider:"after",onDeleteCallback:a}),(n!==j.oT.NO||l)&&(0,w.jsx)(Zi.k,{uri:e.uri,canPin:n,isPinned:l,type:ei.c.FOLDER,spec:s}),(0,w.jsx)(R,{position:{after:e},onCreateCallback:i,spec:s}),(0,w.jsx)(y.j,{position:{after:e},onCreateCallback:i,spec:s}),(0,w.jsx)(ra.y,{uriToBeAdded:e.uri,isInLibrary:!0,spec:s}),c&&(0,w.jsx)(Qi,{uri:e.uri,spec:s})]})})}));function na(e,t){const{createPlaylistFromAlbum:r,createPlaylistFromTracks:a}=(0,S.A)(),n=(0,C.s)(),l=(0,Xr.g)(),o=Kr(),s=(0,i.useCallback)((r=>{if(!t)return;const{[D.fl.PLAYLISTS_V2]:i=[],[D.fl.FOLDERS]:a=[]}=r,s={after:{uri:t}};i.length&&(o(i,s),n.logInteraction(e.dragSort())),a.length&&(l.moveFolder({uri:a[0]},s),n.logInteraction(e.dragSort()))}),[o,n,l,e,t]),{unpinConfirmationDialog:c,applyDropWithUnpinConfirmation:d}=Wr({onApplyDrop:s});return{unpinConfirmationDialog:c,handleDropOnFolder:(0,i.useCallback)((async i=>{if(!t)return;const{[D.fl.TRACKS]:l=[],[D.fl.LOCAL_TRACKS]:o=[],[D.fl.ALBUMS]:s=[],[D.fl.EPISODES]:c=[],[D.fl.PLAYLISTS_V2]:u=[],[D.fl.FOLDERS]:p=[]}=i,g={after:{uri:t}};u.length||p.length?d(i,I.Nz.ON):s.length?(r(s[0],g),n.logInteraction(e.yourLibraryItemFactory().dragCreatePlaylist())):(l.length||o.length||c.length)&&(a([...l,...o,...c],g),n.logInteraction(e.yourLibraryItemFactory().dragCreatePlaylist()))}),[t,d,r,n,e,a])}}var la=r(63597),oa=r(3169),sa=r(92633),ca=r(74571),da=r(57167),ua=r(27598),pa=r(33981);const ga=({uri:e})=>{const[t,r]=(0,i.useState)(!1),a=(0,la.Q)(),n=(0,i.useCallback)((()=>{r(!0),setTimeout((()=>{r(!1)}),500)}),[]);return(0,sa.l)(oa.UV.OPERATION_COMPLETE,(t=>{"add"===t.data.operation&&e===a.getDefaultCurationContextUri(t.data.uris[0])&&n()})),(0,da.e)(ca.Lj.OPERATION_COMPLETE,(t=>{"add"===t.data.operation&&e===t.data.uri&&n()})),(0,ua.b)(pa.tD.OPERATION_COMPLETE,(t=>{"remove"!==t.data.operation&&"end"!==t.data.position?.after&&t.data.position.after?.uri===e&&(0,dr.fp)(e)&&n()})),{animateState:t,animateClassName:vr.A.pulse}};var ma=r(42960),ya=r(98414);function xa(e,t){const{uri:r,name:a,numberOfFolders:n,numberOfPlaylists:l,pinned:s}=e,{isPlaying:c,isActive:d}=(0,Ar.l_)(r),{pushFolder:u}=(0,i.useContext)(er),p=(0,o.wA)(),{togglePlay:g}=(0,Oi.P)({uri:r},{featureIdentifier:"folder",referrerIdentifier:"your_library"}),m=(0,o.d4)((e=>e.platform.isDesktop)),{handleDropOnFolder:y,unpinConfirmationDialog:x}=na(t,r),{renameFolder:h}=(0,ma.Z)(),f=y,S=[l>0||!n?b.Ru.get("web-player.your-library-x.rows.folder.number-of-playlists",l):null,n>0?b.Ru.get("web-player.your-library-x.rows.folder.number-of-folders",n):null].filter(ya.P).join(b.Ru.getSeparator()),v=(0,i.useCallback)(((t="")=>{h(e,t)}),[e,h]),C=(0,i.useCallback)((()=>{u(e.uri)}),[e.uri,u]);return{openDeleteDialog:(0,i.useCallback)((()=>{p((0,ar.OB)(r))}),[p,r]),togglePlay:m?g:void 0,menu:(0,w.jsx)(aa,{reference:{uri:r},name:a,canPin:e.canPin,isPinned:s,onRename:v,isPlayable:!e.isEmpty}),subtitleText:S,onDropTargetDropOn:f,handleNavigate:C,dropOnFolderUnpinConfirmationDialog:x,isPlaying:c,isActive:d}}const ba=({libraryItem:e,RowVariantComponent:t,spec:r,nrValidItems:a,index:l})=>{const{uri:o,folderDepth:s,name:c,type:d,isFlattened:u,pinned:p,canReorder:g}=e,{openDeleteDialog:m,togglePlay:y,menu:x,subtitleText:h,onDropTargetDropOn:f,handleNavigate:S,dropOnFolderUnpinConfirmationDialog:v,isPlaying:P,isActive:R}=xa(e,r),[j,T]=function(e){const{getIsFolderExpanded:t,setIsFolderExpanded:r}=(0,i.useContext)(ot);return[(0,i.useMemo)((()=>t(e)),[t,e]),(0,i.useCallback)((t=>{r(e,t)}),[r,e])]}(o),A=(0,C.s)(),D=(0,i.useCallback)((()=>{T(!0),A.logInteraction(r.yourLibraryItemFactory().dragUiReveal())}),[A,T,r]),I=(0,i.useCallback)((e=>{e.stopPropagation()}),[]),L=(0,i.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),T(!j),j?A.logInteraction(r.yourLibraryItemFactory().toggleFolderButtonFactory().hitUiHide()):A.logInteraction(r.yourLibraryItemFactory().toggleFolderButtonFactory().hitUiReveal())}),[T,j,A,r]),O=(0,i.useCallback)((e=>{"ArrowLeft"===e.key?T(!1):"ArrowRight"===e.key&&T(!0)}),[T]),E=!u&&(0,w.jsx)(Ae.H,{"data-skip-in-keyboard-nav":!0,"aria-label":j?b.Ru.get("web-player.your-library-x.collapse-folder"):b.Ru.get("web-player.your-library-x.expand-folder"),iconOnly:zi.y,size:"small",condensedAll:!0,onClick:L,onDoubleClick:I,tabIndex:-1,className:n()(gt,mt,{[Rt]:!j})}),{animateState:k,animateClassName:N}=ga({uri:o}),F=(0,w.jsx)(Pi,{title:c,type:d,animateState:k,animateClassName:N});return(0,w.jsxs)(w.Fragment,{children:[v,(0,w.jsx)(Di,{onKeyDown:O,RowVariantComponent:t,uri:o,to:`/folder/${(0,dr.o_)(o)?.id??""}`,handleNavigate:S,folderDepth:s,cover:F,name:c,subtitle:h,alt:c,dragLabel:c,menu:x,canReorder:g,allowedDropTargetDropOnMimeTypes:Yt,onDropTargetDropOn:f,onLongDragOver:D,togglePlay:y,openDeleteDialog:m,addedAt:e.addedAt,lastPlayedAt:e.lastPlayedAt,isPinned:p,shouldShowType:!1,type:d,isPlaying:P,isActive:R,expandFolderButton:E,spec:r,nrValidItems:a,index:l})]})},ha=({libraryItem:e,spec:t,index:r})=>{const{uri:i,name:a,type:n,pinned:l,canReorder:o}=e,{togglePlay:s,menu:c,subtitleText:d,onDropTargetDropOn:u,handleNavigate:p,openDeleteDialog:g,isPlaying:m,isActive:y}=xa(e,t),{animateState:x,animateClassName:b}=ga({uri:i}),h=(0,w.jsx)(Ri,{title:a,type:n,uri:i,togglePlay:s,spec:t,isActive:y,isPlaying:m});return(0,w.jsx)(yi,{uri:i,to:`/folder/${(0,dr.o_)(i)?.id??""}`,handleNavigate:p,cover:h,name:a,subtitle:d,menu:c,dragLabel:a,canReorder:o,allowedDropTargetDropOnMimeTypes:Yt,onLongDragOver:p,onDropTargetDropOn:u,togglePlay:s,isPinned:l,shouldShowType:!1,type:n,openDeleteDialog:g,isPlaying:m,isActive:y,spec:t,index:r,animateState:x,animateClassName:b})};var fa=r(78160);const Sa=i.memo((function({uri:e,canPin:t,isPinned:r,downloadUri:i}){const{spec:a}=(0,T.o)(e);return(0,w.jsx)(v.pZ,{value:"generic",children:(0,w.jsxs)(m.W,{children:[i?(0,w.jsx)(fa.d,{spec:a,uri:i}):null,t!==j.oT.NO&&(0,w.jsx)(Zi.k,{uri:e,canPin:t,isPinned:r,type:ei.c.PLAYLIST,spec:a})]})})}));var va=r(68688);const Ca=[D.fl.TRACKS,D.fl.LOCAL_TRACKS];function wa(e){const{numberOfSongs:t}=e,r="spotify:collection:tracks",{user:a}=(0,o.d4)(va.Ht),n=(0,dr.fH)(a?.id).toURI(),l=n,s=n,{togglePlay:c}=(0,Oi.P)({uri:l},{featureIdentifier:"your_library",referrerIdentifier:"your_library"}),d=(0,i.useContext)(Yr.Z),{isPlaying:u,isActive:p}=(0,Ar.l_)(l),g=(0,i.useCallback)((e=>{const{[D.fl.TRACKS]:t=[],[D.fl.LOCAL_TRACKS]:r=[]}=e,i=[...t,...r];i?.length&&d?.add({uris:i})}),[d]);return{isPlaying:u,isActive:p,togglePlay:c,menu:(0,w.jsx)(Sa,{uri:r,canPin:e.canPin,isPinned:e.pinned,downloadUri:s}),downloadButton:(0,w.jsx)(lr.M,{uri:s,size:"xsmall",className:vr.A.icon,as:"span"}),subtitleText:(0,w.jsx)(w.Fragment,{children:b.Ru.get("web-player.your-library-x.rows.liked-songs.subtitle",t)}),onDropTargetDropOn:g,playbackUri:l,uri:r,...ga({uri:r})}}const Pa=({libraryItem:e,shouldShowType:t,RowVariantComponent:r,spec:i,nrValidItems:a,index:n})=>{const{images:l,name:o,type:s,pinned:c,addedAt:d,lastPlayedAt:u,color:p}=e,{isPlaying:g,isActive:m,togglePlay:y,menu:x,subtitleText:b,onDropTargetDropOn:h,playbackUri:f,uri:S,downloadButton:v,animateState:C,animateClassName:P}=wa(e),R=(0,w.jsx)(Pi,{title:o,type:s,images:l,color:p,animateState:C,animateClassName:P});return(0,w.jsx)(Di,{RowVariantComponent:r,uri:S,cover:R,name:o,subtitle:b,alt:o,dragLabel:o,menu:x,allowedDropTargetDropOnMimeTypes:Ca,onDropTargetDropOn:h,togglePlay:y,addedAt:d,lastPlayedAt:u,isPlaying:g,isActive:m,isPinned:c,shouldShowType:t,type:s,playbackUri:f,downloadButton:v,spec:i,nrValidItems:a,index:n})},Ra=({libraryItem:e,shouldShowType:t,spec:r,index:i})=>{const{images:a,name:n,type:l,pinned:o,color:s}=e,{togglePlay:c,menu:d,subtitleText:u,onDropTargetDropOn:p,playbackUri:g,uri:m,downloadButton:y,isPlaying:x,isActive:b,animateState:h,animateClassName:f}=wa(e),S=(0,w.jsx)(Ri,{title:n,type:l,images:a,uri:g,togglePlay:c,color:s,spec:r,isActive:b,isPlaying:x});return(0,w.jsx)(yi,{uri:m,name:n,subtitle:u,menu:d,dragLabel:n,allowedDropTargetDropOnMimeTypes:Ca,onDropTargetDropOn:p,cover:S,togglePlay:c,isPinned:o,shouldShowType:t,type:l,playbackUri:g,downloadButton:y,isPlaying:x,isActive:b,spec:r,index:i,animateState:h,animateClassName:f})};var ja=r(34650),Ta=r(61341),Aa=r(676),Da=r(83291);function Ia(e){const{numberOfFiles:t}=e,r=Da.bV,i=(0,Aa.Iu)().uri,{isPlaying:a,isActive:n}=(0,Ar.l_)(r);return{playbackUri:r,uri:i,isPlaying:a,isActive:n,menu:(0,w.jsx)(Sa,{uri:i,canPin:e.canPin,isPinned:e.pinned}),downloadButton:(0,w.jsx)(ja.F,{size:"xsmall",className:vr.A.icon,semanticColor:"textBrightAccent"}),subtitleText:b.Ru.get("web-player.your-library-x.rows.local-files.subtitle",t)}}const La=({libraryItem:e,shouldShowType:t,RowVariantComponent:r,spec:i,nrValidItems:a,index:n})=>{const{name:l,addedAt:o,lastPlayedAt:s,type:c,pinned:d}=e,{playbackUri:u,uri:p,isPlaying:g,menu:m,subtitleText:y,downloadButton:x,isActive:b}=Ia(e),h=(0,w.jsx)("div",{className:yt,children:(0,w.jsx)(Ta.e,{iconSize:24,title:l})});return(0,w.jsx)(Di,{RowVariantComponent:r,uri:p,name:l,subtitle:y,alt:l,dragLabel:l,menu:m,addedAt:o,lastPlayedAt:s,isPinned:d,isPlaying:g,isActive:b,shouldShowType:t,playbackUri:u,downloadButton:x,cover:h,type:c,spec:i,nrValidItems:a,index:n})},Oa=({libraryItem:e,shouldShowType:t,spec:r,index:i})=>{const{name:a,images:n,type:l,pinned:o}=e,{playbackUri:s,uri:c,menu:u,downloadButton:p,subtitleText:g,isPlaying:m,isActive:y}=Ia(e),x=(0,d.NC)(xr.AE),b=(0,w.jsx)("div",{className:ui,children:(0,w.jsx)(xi.M,{images:n,FallbackComponent:e=>(0,w.jsx)(Ta.e,{size:"xxlarge",className:x?di:"",...e})})});return(0,w.jsx)(yi,{uri:c,name:a,subtitle:g,menu:u,cover:b,type:l,playbackUri:s,downloadButton:p,isPinned:o,shouldShowType:t,isPlaying:m,isActive:y,spec:r,index:i})};var Ea=r(29622);const ka=({index:e,type:t})=>{const r=(0,d.NC)(xr.AE),i=oi();return(0,w.jsx)(Ea.T,{columnIndex:0,children:(0,w.jsx)(sr.Z,{className:n()(si,{[ci]:i}),media:(0,w.jsx)(xi.M,{images:[],FallbackComponent:()=>(0,w.jsx)(vi.s,{type:t,size:"xxlarge",className:r?di:"",semanticColor:"textSubdued"}),isCircular:t===ei.c.ARTIST}),variant:"naked",id:e,title:"",padding:i?cr.vw:cr.CJ})})};var Na=r(87236),Fa=r(8756),Ma=r(75368),Ba=r(38824),Ua=r(66622),_a=r(52088),Va=r(10548),Ha=r(87764),Wa=r(66488),za=r(35390),Xa=r(96624),Ka=r(7112),Ya=r(76670),Za=r(64072),Ga=r(96615),Ja=r(76289),qa=r(76998),Qa=r(32884);const $a=i.memo((function({reference:e,isPublished:t,canPin:r=j.oT.NO,isPinned:i=!1,useDialogForUnfollow:a=!1,isInLibrary:n}){const{uri:l}=e,o=(0,qa.J)(l),s=!!o?.permissions?.isPrivate,c=(0,Qa.v)(l)??o?.isPublished??t,{spec:d}=(0,T.o)(l),u=o?.hasSpotifyAudiobooks;return o&&(0,w.jsx)(v.pZ,{value:"playlist",children:(0,w.jsxs)(m.W,{children:[!u&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(Ma.K,{spec:d,uris:[l]}),(0,w.jsx)(Ja._,{uri:l,spec:d})]}),!s&&(0,w.jsx)(Ka._,{spec:d,divider:o.isOwnedBySelf?"after":"both",uri:l,isPublished:c}),o.isOwnedBySelf&&(0,w.jsx)(_a.T,{spec:d,uri:l,name:o.name,description:o.description,image:o.images[0]}),!o.isOwnedBySelf&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(Ya.P,{spec:d,uri:l}),(0,w.jsx)(Fa.ET,{uri:l,useDialog:a,initialState:n})]}),o.isOwnedBySelf&&(0,w.jsx)(Ua.u,{spec:d,uri:l}),!u&&(0,w.jsx)(fa.d,{spec:d,uri:l}),(0,w.jsx)(R,{position:{after:e},divider:"before",spec:d}),(0,w.jsx)(y.j,{position:{after:e},spec:d}),o.permissions?.canAdministratePermissions&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(Xa.U,{spec:d,divider:"before",uri:l,isPrivate:s}),!u&&(0,w.jsx)(Ha.n,{uri:l,spec:d})]}),o.permissions?.canCancelMembership&&(0,w.jsx)(Wa._,{spec:d,divider:"before",uri:l}),(0,w.jsx)(Va.w,{spec:d,uri:l}),(0,w.jsx)(ra.y,{uriToBeAdded:l,isInLibrary:!0,spec:d}),!u&&(0,w.jsx)(Za.o,{spec:d,uris:[l],isPlaylist:!0}),(r!==j.oT.NO||i)&&(0,w.jsx)(Zi.k,{uri:l,canPin:r,isPinned:i,type:ei.c.PLAYLIST,spec:d}),(o.isOwnedBySelf||!s)&&(0,w.jsxs)(Ga.h,{divider:"before",children:[(0,w.jsx)(Ba.m,{spec:d,uri:l,displayText:b.Ru.get("contextmenu.share.copy-playlist-link"),isPrivatePlaylist:s}),(0,w.jsx)(za.x,{spec:d,uri:l,type:ei.c.PLAYLIST})]})]})})})),en=i.memo((function({reference:e,canPin:t=j.oT.NO,isPinned:r=!1}){const{uri:i}=e,{spec:a}=(0,T.o)(i);return(0,w.jsx)(v.pZ,{value:"playlist",children:(0,w.jsxs)(m.W,{children:[(0,w.jsx)(R,{position:{after:e},divider:"before",spec:a}),(0,w.jsx)(y.j,{position:{after:e},spec:a}),t!==j.oT.NO&&(0,w.jsx)(Zi.k,{uri:i,canPin:t,isPinned:r,type:ei.c.PLAYLIST,spec:a})]})})}));var tn=r(76875);const rn=()=>(0,i.useContext)(tn.w).getCapabilities();function an(e,t){const{uri:r,isLoading:a,owner:n,pinned:l}=e,s=(0,i.useContext)(tn.w),{filter:c}=(0,i.useContext)(Q.g),{canAddAudiobooks:d}=rn(),u=[D.fl.TRACKS,D.fl.LOCAL_TRACKS,D.fl.ALBUMS,D.fl.EPISODES],p=d?[D.fl.AUDIOBOOKS]:[];(0,i.useEffect)((()=>{a&&s.resync(r)}),[s,r,a]);const{togglePlay:g}=(0,Oi.P)({uri:r},{featureIdentifier:"playlist",referrerIdentifier:"your_library"}),{isPlaying:y,isActive:x}=(0,Ar.l_)(r),h=(0,o.wA)(),f=(0,C.s)();let S,v=[];const P=(0,i.useCallback)((async e=>{const{[D.fl.TRACKS]:i=[],[D.fl.LOCAL_TRACKS]:a=[],[D.fl.ALBUMS]:n=[],[D.fl.EPISODES]:l=[],[D.fl.AUDIOBOOKS]:o=[]}=e,s=[...i,...a,...n,...l,...o];h((0,Na.io)(r,s)),f.logInteraction(t.yourLibraryItemFactory().dragAddToPlaylist({itemToBeAdded:s.at(0)??"",playlist:r}))}),[h,f,t,r]);e.canAddTo&&(v=e.isEmpty?[...p,...u]:e.isBooklist?p:u,S=P);const R=(0,i.useCallback)((()=>{h((0,ar.O)(r))}),[h,r]),j=(0,ir.c0)(r),T=a&&!e.name;let A;A=j?(0,w.jsx)(en,{reference:e,canPin:e.canPin,isPinned:l}):T?(0,w.jsx)(m.W,{children:(0,w.jsx)(Fa.ET,{uri:r,initialState:!0})}):(0,w.jsx)($a,{reference:e,canPin:e.canPin,isPinned:l,useDialogForUnfollow:!0,isInLibrary:!0});const I=(0,w.jsx)(lr.M,{uri:r,size:"xsmall",className:vr.A.icon,as:"span"}),L=(0,ir.c0)(r)?(0,w.jsx)(w.Fragment,{children:b.Ru.get("ylx.clicktoplay")}):(n.uri,(0,w.jsx)(or.M,{searchWords:[c.trim()],textToHighlight:n.name}));return{openDeleteDialog:R,togglePlay:!!(0,ir.c0)(r)||!e.isBooklist&&!e.isEmpty?g:void 0,isPlaying:y,isActive:x,menu:A,downloadButton:I,subtitleText:L,allowedDropTargetDropOnMimeTypes:v,onDropTargetDropOn:S,...ga({uri:r})}}const nn=({libraryItem:e,shouldShowType:t,RowVariantComponent:r,spec:i,nrValidItems:a,index:n})=>{const{uri:l,images:o,folderDepth:s,name:c,type:d,pinned:u,addedAt:p,lastPlayedAt:g,color:m,canReorder:y}=e,{openDeleteDialog:x,togglePlay:b,isPlaying:h,isActive:f,menu:S,downloadButton:v,subtitleText:C,allowedDropTargetDropOnMimeTypes:P,onDropTargetDropOn:R,animateState:j,animateClassName:T}=an(e,i),A=(0,w.jsx)(Pi,{title:c,type:d,images:o,color:m,animateState:j,animateClassName:T});return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(Di,{RowVariantComponent:r,uri:l,folderDepth:s,cover:A,name:c,subtitle:C,alt:c,dragLabel:c,menu:S,canReorder:y,allowedDropTargetDropOnMimeTypes:P,onDropTargetDropOn:R,togglePlay:b,openDeleteDialog:x,addedAt:p,lastPlayedAt:g,isPlaying:h,isActive:f,isPinned:u,shouldShowType:t,type:d,downloadButton:v,spec:i,playInsteadOfNavigating:(0,ir.c0)(l),nrValidItems:a,index:n})})},ln=({libraryItem:e,shouldShowType:t,spec:r,index:i})=>{const{uri:a,images:n,name:l,type:o,pinned:s,color:c,canReorder:d}=e,{togglePlay:u,menu:p,downloadButton:g,subtitleText:m,onDropTargetDropOn:y,allowedDropTargetDropOnMimeTypes:x,openDeleteDialog:b,isPlaying:h,isActive:f,animateState:S,animateClassName:v}=an(e,r),C=(0,w.jsx)(Ri,{title:l,type:o,images:n,uri:a,togglePlay:u,color:c,spec:r,isActive:f,isPlaying:h});return(0,w.jsx)(yi,{uri:a,name:l,subtitle:m,menu:p,dragLabel:l,canReorder:d,allowedDropTargetDropOnMimeTypes:x,onDropTargetDropOn:y,cover:C,togglePlay:u,isPinned:s,shouldShowType:t,type:o,downloadButton:g,openDeleteDialog:b,isPlaying:h,isActive:f,spec:r,playInsteadOfNavigating:(0,ir.c0)(a),index:i,animateState:S,animateClassName:v})};var on=r(59562),sn=r(34709),cn=r(85368),dn=r(9618);const un=i.memo((function({uri:e,canPin:t=j.oT.NO,isPinned:r=!1,canRemove:i=!1}){const{spec:a}=(0,T.o)(e);return(0,w.jsx)(v.pZ,{value:"audiobook",children:(0,w.jsxs)(m.W,{children:[i&&(0,w.jsx)(dn.p,{uri:e,removeLabel:b.Ru.get("contextmenu.remove-from-library")}),t!==j.oT.NO&&(0,w.jsx)(Zi.k,{uri:e,canPin:t,isPinned:r,type:ei.c.PRE_RELEASE_BOOK,spec:a}),(0,w.jsx)(Ba.m,{uri:e,spec:a,displayText:b.Ru.get("context-menu.copy-book-link")}),(0,w.jsx)(cn.q,{spec:a,divider:"before",uri:e})]})})}));function pn(e){const{uri:t,canPin:r,pinned:a,type:n}=e,{filter:l}=(0,i.useContext)(Q.g),s=(0,o.wA)(),c=(0,i.useCallback)((()=>{s((0,ar.aw)(t,!0))}),[s,t]);let d,u="";if(n===ei.c.PRE_RELEASE_ALBUM){const i=e.artists?.at(0);u=i?.name??"",d=(0,w.jsx)(sn.P,{uri:t,artistUri:i?.uri,canPin:r,isPinned:a,canRemove:!0})}else u=e.authorName,d=(0,w.jsx)(un,{uri:t,canPin:r,isPinned:a,canRemove:!0});return{openDeleteDialog:c,menu:d,subtitleText:(0,w.jsx)(or.M,{searchWords:[l.trim()],textToHighlight:u})}}const gn=({libraryItem:e,shouldShowType:t=!1,RowVariantComponent:r,spec:i,nrValidItems:a,index:n})=>{const{uri:l,images:o,name:s,pinned:c,type:d,addedAt:u,lastPlayedAt:p,color:g}=e,{openDeleteDialog:m,menu:y,subtitleText:x}=pn(e),b=(0,w.jsx)(Pi,{title:s,type:d,images:o,color:g});return(0,w.jsx)(Di,{RowVariantComponent:r,uri:l,cover:b,name:s,subtitle:x,alt:s,type:d,dragLabel:s,menu:y,openDeleteDialog:m,addedAt:u,lastPlayedAt:p,isPinned:c,isPlaying:!1,isActive:!1,shouldShowType:t,spec:i,nrValidItems:a,index:n,preReleaseIcon:(0,w.jsx)(on.t,{size:"xsmall",className:vr.A.icon})})},mn=({libraryItem:e,shouldShowType:t=!1,spec:r,index:i})=>{const{uri:a,images:n,name:l,pinned:o,type:s,color:c}=e,{menu:d,subtitleText:u,openDeleteDialog:p}=pn(e),g=(0,w.jsx)(Ri,{title:l,type:s,images:n,uri:a,color:c,spec:r,isActive:!1,isPlaying:!1});return(0,w.jsx)(yi,{uri:a,name:l,subtitle:u,menu:d,dragLabel:l,cover:g,type:s,isPinned:o,shouldShowType:t,openDeleteDialog:p,isPlaying:!1,isActive:!1,spec:r,index:i,preReleaseIcon:(0,w.jsx)(on.t,{size:"xsmall",className:vr.A.icon})})};var yn=r(90751);function xn(e){const{uri:t,publisher:r}=e,{filter:a}=(0,i.useContext)(Q.g),n=(0,o.wA)(),{togglePlay:l}=(0,Oi.P)({uri:t},{featureIdentifier:"show",referrerIdentifier:"your_library"}),{isPlaying:s,isActive:c}=(0,Ar.l_)(t);return{isPlaying:s,isActive:c,openDeleteDialog:(0,i.useCallback)((()=>{n((0,ar.aw)(t))}),[n,t]),togglePlay:l,menu:(0,w.jsx)(yn.H,{uri:t,canPin:e.canPin,isPinned:e.pinned,useDialogForUnfollow:!0,isInLibrary:!0}),downloadButton:(0,w.jsx)(lr.M,{uri:t,size:"xsmall",className:vr.A.icon,as:"span"}),subtitleText:(0,w.jsx)(or.M,{autoEscape:!0,searchWords:[a.trim()],textToHighlight:r})}}const bn=({libraryItem:e,shouldShowType:t,RowVariantComponent:r,spec:i,nrValidItems:a,index:n})=>{const{uri:l,images:o,name:s,type:c,addedAt:d,lastPlayedAt:u,pinned:p,color:g}=e,{isPlaying:m,isActive:y,openDeleteDialog:x,togglePlay:b,menu:h,downloadButton:f,subtitleText:S}=xn(e),v=(0,w.jsx)(Pi,{title:s,type:c,images:o,color:g});return(0,w.jsx)(Di,{RowVariantComponent:r,uri:l,cover:v,name:s,subtitle:S,alt:s,dragLabel:s,menu:h,togglePlay:b,openDeleteDialog:x,addedAt:d,lastPlayedAt:u,isPlaying:m,isActive:y,isPinned:p,shouldShowType:t,type:c,downloadButton:f,spec:i,nrValidItems:a,index:n})},hn=({libraryItem:e,shouldShowType:t,spec:r,index:i})=>{const{uri:a,images:n,name:l,type:o,pinned:s,color:c}=e,{togglePlay:d,menu:u,downloadButton:p,subtitleText:g,openDeleteDialog:m,isPlaying:y,isActive:x}=xn(e),b=(0,w.jsx)(Ri,{title:l,type:o,images:n,uri:a,togglePlay:d,color:c,spec:r,isActive:x,isPlaying:y});return(0,w.jsx)(yi,{uri:a,name:l,subtitle:g,menu:u,dragLabel:l,cover:b,togglePlay:d,isPinned:s,shouldShowType:t,type:o,downloadButton:p,openDeleteDialog:m,isPlaying:y,isActive:x,spec:r,index:i})},fn=[D.fl.EPISODES];function Sn(e){const{numberOfDownloadedEpisodes:t,uri:r}=e,a=(0,d.NC)(z.ucV,{loadingValue:!1}),{user:n}=(0,o.d4)(va.Ht),l=(0,dr.fH)(n?.id,"your-episodes").toURI(),s=a?r:l,c=j.Xn,{togglePlay:u}=(0,Oi.P)({uri:s},{featureIdentifier:"episode",referrerIdentifier:"your_library"}),{isPlaying:p,isActive:g}=(0,Ar.l_)(s),m=(0,i.useContext)(Yr.Z),y=(0,i.useCallback)((e=>{const{[D.fl.EPISODES]:t=[]}=e;t?.length&&m?.add({uris:t})}),[m]);return{isPlaying:p,isActive:g,togglePlay:u,menu:(0,w.jsx)(Sa,{uri:c,canPin:e.canPin,isPinned:e.pinned}),downloadButton:t?(0,w.jsx)(ja.F,{size:"xsmall",className:vr.A.icon,semanticColor:"textBrightAccent"}):null,subtitleText:b.Ru.get("web-player.your-library-x.subtitle-your-episodes"),onDropTargetDropOn:y,playbackUri:s,uri:c,...ga({uri:c})}}const vn=({libraryItem:e,RowVariantComponent:t,spec:r,nrValidItems:i,index:a})=>{const{images:n,name:l,type:o,pinned:s,lastPlayedAt:c,addedAt:d,color:u}=e,{isPlaying:p,isActive:g,togglePlay:m,menu:y,downloadButton:x,subtitleText:b,onDropTargetDropOn:h,playbackUri:f,uri:S,animateState:v,animateClassName:C}=Sn(e),P=(0,w.jsx)(Pi,{title:l,type:o,images:n,color:u,animateState:v,animateClassName:C});return(0,w.jsx)(Di,{RowVariantComponent:t,uri:S,cover:P,name:l,subtitle:b,alt:l,dragLabel:l,menu:y,allowedDropTargetDropOnMimeTypes:fn,onDropTargetDropOn:h,togglePlay:m,addedAt:d,lastPlayedAt:c,isPlaying:p,isActive:g,isPinned:s,shouldShowType:!1,type:o,downloadButton:x,playbackUri:f,spec:r,nrValidItems:i,index:a})},Cn=({libraryItem:e,spec:t,index:r})=>{const{images:i,name:a,type:n,pinned:l,color:o}=e,{togglePlay:s,menu:c,downloadButton:d,subtitleText:u,onDropTargetDropOn:p,playbackUri:g,uri:m,isPlaying:y,isActive:x,animateState:b,animateClassName:h}=Sn(e),f=(0,w.jsx)(Ri,{title:a,type:n,images:i,uri:m,togglePlay:s,color:o,spec:t,isActive:x,isPlaying:y});return(0,w.jsx)(yi,{uri:m,name:a,subtitle:u,menu:c,dragLabel:a,allowedDropTargetDropOnMimeTypes:fn,onDropTargetDropOn:p,cover:f,togglePlay:s,playbackUri:g,downloadButton:d,isPinned:l,shouldShowType:!1,type:n,isPlaying:y,isActive:x,spec:t,index:r,animateState:b,animateClassName:h})};function wn(){const e=(0,d.NC)(z.AEN),[t,r]=(0,ge.x)("ylx-grid-scale",1);return{gridScale:e?t:1,setGridScale:r}}var Pn=r(12370),Rn=r(96066),jn=r(59701);const Tn=({span:e,onInView:t,marginBottom:r,marginTop:a})=>{const n=(0,i.useRef)(null);return(0,i.useEffect)((()=>{if(!window.IntersectionObserver)return()=>{};const e=new window.IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&t()}))}));return n.current&&e.observe(n.current),()=>{e.disconnect()}}),[t]),e<=0?null:(0,w.jsx)("div",{style:{gridColumn:"1/-1",gridRow:`span ${e}`,marginBottom:r,marginTop:a},ref:n,"data-type":"sentinel"},"topSentinel")},An=({renderItems:e,nrItems:t,estimatedItemMaxHeight:r,scrollNodeRef:a,nrRowsOverscan:n=5,initalNrRows:l=5,onGridResize:o})=>{const[s,c]=(0,i.useState)({firstRowToRender:0,nrRows:l+n}),d=(0,i.useRef)(0),u=(0,i.useRef)(null),p=(0,i.useRef)(r),g=(0,i.useCallback)((()=>{const e=u.current?.querySelector(':scope > *:not([data-type="sentinel"])');p.current=e?e.getBoundingClientRect().height:p.current}),[]),m=(0,i.useCallback)((()=>{const e=a.current;if(!e)return;g();const t=Math.floor((e.scrollTop-d.current)/p.current),r=Math.max(t-n,0),i=Math.ceil(e.offsetHeight/p.current)+2*n;r===s.firstRowToRender&&i===s.nrRows||c({firstRowToRender:r,nrRows:i})}),[n,s,a,g]),y=(0,i.useCallback)((({columnCount:r})=>{if(r<=0)return[null];o&&o(r,p.current);const i=Math.ceil(t/r),a=s.firstRowToRender*r,l=s.firstRowToRender+s.nrRows-1,c=Math.min(t-1,(l+1)*r-1),d=p.current*(n-2);return[(0,w.jsx)(Tn,{span:s.firstRowToRender,onInView:m,marginBottom:`-${d}px`},`topSentinel-${s.firstRowToRender}`),e(a,c,r),(0,w.jsx)(Tn,{span:i-l,onInView:m,marginTop:`-${d}px`},"bottomSentinel-"+(i-l))]}),[t,n,o,m,e,s]);return(0,i.useEffect)((()=>{const e=u.current,t=a.current;e&&t&&(d.current=e.getBoundingClientRect().top-t.getBoundingClientRect().top+t.scrollTop)}),[a]),(0,w.jsx)(jn.E,{useUniformRowHeight:!0,ref:u,render:y,onLayoutChange:g})},Dn=(0,X.g)(ei.c),In=(0,i.memo)((function({item:e,primaryFilter:t,spec:r,index:i}){const a={shouldShowType:!(0,ir.c0)(e.uri)&&ii(e.type)!==t,spec:r,index:i},n=(0,d.NC)(z.lDH),l=(0,d.NC)(z.H8e);switch(e.type){case ei.c.FOLDER:return(0,w.jsx)(ha,{libraryItem:e,...a});case ei.c.ALBUM:return(0,w.jsx)(Ni,{libraryItem:e,...a});case ei.c.ARTIST:return(0,w.jsx)(Ui,{libraryItem:e,...a});case ei.c.AUDIOBOOK:return(0,w.jsx)(Wi,{libraryItem:e,...a});case ei.c.SHOW:return(0,w.jsx)(hn,{libraryItem:e,...a});case ei.c.PLAYLIST:return(0,w.jsx)(ln,{libraryItem:e,...a});case ei.c.LIKED_SONGS:return(0,w.jsx)(Ra,{libraryItem:e,...a});case ei.c.YOUR_EPISODES:return(0,w.jsx)(Cn,{libraryItem:e,...a});case ei.c.LOCAL_FILES:return(0,w.jsx)(Oa,{libraryItem:e,...a});case ei.c.PRE_RELEASE_ALBUM:return n?(0,w.jsx)(mn,{libraryItem:e,...a}):null;case ei.c.PRE_RELEASE_BOOK:return l?(0,w.jsx)(mn,{libraryItem:e,...a}):null;default:(0,ti.d)(e)}})),Ln=({getItems:e,scrollNodeRef:t,primaryFilter:r,nrValidItems:a,spec:n})=>{const{gridScale:l}=wn(),o=(0,Rn.s1)(Rn.yV.YLX,l),s=(0,i.useRef)({}),c=function(){const{gridScale:e}=wn();return!!(0,d.NC)(z.AEN)&&e<.8}(),u=(0,i.useCallback)((e=>(0,w.jsx)(ka,{index:e,type:Dn(r)?r:void 0},e)),[r]),p=(0,i.useCallback)(((t,i)=>e(t,i).map(((e,i)=>e?(0,w.jsx)(In,{item:e,spec:n,primaryFilter:r,index:t+i},e.uri):u(`${t+i}`)))),[e,r,u,n]),g=(0,i.useCallback)(((e,t)=>{s.current={numColumns:e,rowHeight:t}}),[]);return(0,w.jsx)(Pn.x,{config:o,children:(0,w.jsx)(li,{isCompact:c,children:(0,w.jsx)(rr.R,{firstInteractiveIsWrapper:!0,"aria-label":b.Ru.get("web-player.your-library-x.your-library"),"aria-rowcount":Math.round(a/(s.current.numColumns??1)),"aria-colcount":s.current.numColumns,children:(0,w.jsx)(An,{renderItems:p,nrItems:a,estimatedItemMaxHeight:250,scrollNodeRef:t,onGridResize:g})})})})};var On=r(79655),En=r(72037),kn=r(98919);const Nn="main-yourLibraryX-header",Fn="ILEuCdEH9mglJaM4gKuf",Mn="main-yourLibraryX-collapseButtonWrapper",Bn="main-yourLibraryX-headerContent",Un="iYP0xuQiJCgi7gx1jUPJ",_n="main-yourLibraryX-collapseButton",Vn="main-yourLibraryX-button",Hn="af749NDLYTDK_8LinKWD",Wn="nGWhztVvLY1BInXjcWYa",zn="oZT8iKL42zhLAm_zE5F5",Xn="MdDY8fQ_j94mQZy7ZVXf",Kn="uNReR011bI8ML42Pgveg",Yn=e=>{switch(e){case Le.fX.EXPANDED:return"expanded";case Le.fX.COLLAPSED:return"collapsed";case Le.fX.DEFAULT:return"default";default:throw(0,ti.k)(e)}},Zn=({folderUri:e,dropTargetClassName:t,spec:r})=>{const{isCollapsed:a,ylxSidebarState:l,setYlxSidebarState:o,lastUncollapsedYlxSidebarState:s}=(0,Le.$)(),c=(0,C.s)(),d=(0,i.useCallback)((()=>{const e=l===Le.fX.COLLAPSED?s:Le.fX.COLLAPSED;o(e),c.logInteraction(r.hitToggleState({stateBeforeToggle:Yn(l),stateAfterToggle:Yn(e)}))}),[l,s,o,c,r]),u=a?En.M:kn.A;return(0,w.jsx)(Ie.Zp,{label:a?b.Ru.get("web-player.your-library-x.expand-your-library"):b.Ru.get("web-player.your-library-x.collapse-your-library"),placement:a?"right":void 0,children:(0,w.jsx)(Ae.H,{"aria-label":a?b.Ru.get("web-player.your-library-x.expand-your-library"):b.Ru.get("web-player.your-library-x.collapse-your-library"),onClick:d,className:n()(Mn,Vn,t),condensed:!0,iconLeading:e||a?void 0:u,iconOnly:e||a?u:void 0,children:!e&&!a&&b.Ru.get("web-player.your-library-x.your-library")})})};var Gn=r(99353),Jn=r(58295),qn=r(83389);const Qn=function({folderUri:e,spec:t}){const{createPlaylist:r}=(0,S.A)(),{createFolder:i}=(0,ma.Z)(),a=(0,C.s)(),n=(0,fe.V)(),l=e?{after:{uri:e}}:{before:"start"};return(0,w.jsxs)(m.W,{children:[(0,w.jsx)(h.D,{onClick:()=>{r(void 0,l),a.logInteraction(t.createPlaylistOptionFactory().hitCreatePlaylist())},role:"menuitem",leadingIcon:(0,w.jsx)(x.u,{size:"small"}),children:b.Ru.get("web-player.your-library-x.create.create-a-new-playlist")}),!n&&(0,w.jsx)(h.D,{onClick:()=>{i(b.Ru.get("web-player.your-library-x.default_folder_name"),l),a.logInteraction(t.createFolderOptionFactory().hitCreateFolder())},role:"menuitem",leadingIcon:(0,w.jsx)(qn.h,{size:"small"}),children:b.Ru.get("web-player.your-library-x.create.create-a-playlist-folder")})]})},$n=({className:e="",folderUri:t,tooltipPlacement:r,spec:a})=>{const l=b.Ru.get("web-player.your-library-x.create.button-label"),o=(0,C.s)(),{canAddAudiobooks:s}=rn(),{createPlaylistFromAlbum:c,createPlaylistFromTracks:d,createPlaylistFromPlaylist:u}=(0,S.A)(),{className:p,dropPosition:g,...m}=(0,L.A)({allowedMimeTypesByDropPosition:{[I.Nz.ON]:[D.fl.TRACKS,D.fl.EPISODES,D.fl.ALBUMS,D.fl.PLAYLISTS_V2,...s?[D.fl.AUDIOBOOKS]:[]]},onDrop:(0,i.useCallback)((e=>{const{[D.fl.TRACKS]:r=[],[D.fl.LOCAL_TRACKS]:i=[],[D.fl.EPISODES]:a=[],[D.fl.AUDIOBOOKS]:n=[],[D.fl.ALBUMS]:l=[],[D.fl.PLAYLISTS_V2]:o=[]}=e,s=t?{after:{uri:t}}:{before:"start"},p=[...r,...i,...a];n.length>0?d(n,s):p.length?d(p,s):l.length>0?c(l[0],s):o.length>0&&u(o[0],s)}),[c,u,d,t])});return(0,w.jsx)(Jn.t,{renderInline:!0,menu:(0,w.jsx)(Qn,{folderUri:t,spec:a.createMenuFactory()}),preventScrollingWhileOpen:!1,children:(t,i,s)=>(0,w.jsx)(Ie.Zp,{label:l,placement:r,children:(0,w.jsx)(Ae.H,{ref:s,iconOnly:Gn.u,className:n()(e,p,{[Ft]:g===I.Nz.ON}),"aria-label":l,onClick:e=>{i(e),o.logInteraction(a.hitUiReveal())},size:"small",...m})})})};var el=r(9818),tl=r(68337);const rl=({dropTargetClassName:e,spec:t})=>{const{ylxSidebarState:r,setYlxSidebarState:i}=(0,Le.$)(),a=r===Le.fX.DEFAULT,l=(0,C.s)();return(0,w.jsx)(Ie.Zp,{label:a?b.Ru.get("web-player.your-library-x.show-more"):b.Ru.get("web-player.your-library-x.show-less"),children:(0,w.jsx)(Ae.H,{className:n()(Vn,Wn,e),iconOnly:a?el.h:tl.G,"aria-label":a?b.Ru.get("web-player.your-library-x.enlarge-your-library"):b.Ru.get("web-player.your-library-x.reduce-your-library"),onClick:()=>{i(a?Le.fX.EXPANDED:Le.fX.DEFAULT),l.logInteraction(t.hitToggleState({stateBeforeToggle:a?"default":"expanded",stateAfterToggle:a?"expanded":"default"}))},size:"small"})})};var il=r(73547);const al=({handleNavigateBack:e,parentFolderUri:t,spec:r})=>{const{handleDropBeforeOrAfterRootlistItem:i}=Gr({dropTargetUri:t,spec:r}),{dropPosition:a,className:l,...o}=(0,L.A)({allowedMimeTypesByDropPosition:{[I.Nz.ON]:Xt},onDrop:async e=>{i(e,I.Nz.BEFORE)},onLongDragOver:e});return(0,w.jsx)(Ie.Zp,{label:b.Ru.get("web-player.your-library-x.navigate-back-folder"),children:(0,w.jsx)(Ae.H,{className:n()(Vn,Hn,l,{[Ft]:a===I.Nz.ON}),"aria-label":b.Ru.get("web-player.your-library-x.navigate-back-folder"),onClick:e,iconOnly:il.g,size:"small",...o})})};var nl=r(78834),ll=r(93239);const ol=({folderMenu:e,folderName:t,dropTargetClassName:r})=>(0,w.jsx)(ll.b,{menu:e,children:(0,w.jsx)("span",{children:(0,w.jsx)(Ie.Zp,{label:b.Ru.get("more.label.context",t),children:(0,w.jsx)(Ae.H,{className:n()(Vn,Wn,r),iconOnly:nl.x,"aria-haspopup":"menu","aria-label":b.Ru.get("more.label.context",t),size:"small"})})})});var sl=r(92686),cl=r(93418),dl=r(25724);const ul=({dropTargetClassName:e,spec:t})=>{const{isGridView:r,setItemsView:i}=(0,dl.t)(),a=(0,C.s)();return(0,w.jsx)(Ie.Zp,{label:r?b.Ru.get("web-player.your-library-x.list-view"):b.Ru.get("web-player.your-library-x.grid-view"),children:(0,w.jsx)(Ae.H,{className:n()(Vn,e),iconOnly:r?sl.N:cl.D,"aria-label":r?b.Ru.get("web-player.your-library-x.list-view"):b.Ru.get("web-player.your-library-x.grid-view"),onClick:()=>{i(r?dl.X.LIST:dl.X.GRID),a.logInteraction(t.hitToggleState({stateBeforeToggle:r?"grid":"list",stateAfterToggle:r?"list":"grid"}))},size:"small"})})},pl=(0,i.forwardRef)((function({folderUri:e,folderName:t,folderMenu:r,onRename:a,spec:l,className:s},c){const{isActive:d}=(0,Ar.l_)(e??"not-a-folder"),u=(0,o.wA)(),p=(0,C.s)(),m=(0,i.useCallback)((()=>{u((0,ar.O2)(t,a)),p.logInteraction(l.hitRenameFolder({uri:e}))}),[u,t,e,p,a,l]);return(0,w.jsx)(Ie.Zp,{label:t,showDelay:Ie.uF,children:(0,w.jsx)("div",{className:n()(Xn,s),children:(0,w.jsx)(g.h,{menu:r,children:(0,w.jsx)(Ae.H,{"aria-label":t,onClick:m,size:"small",condensed:!0,className:n()(Vn),ref:c,children:(0,w.jsx)(be.E,{variant:"bodyMediumBold",semanticColor:d?"textBrightAccent":void 0,className:Kn,children:t})})})})})}));var gl=r(40825),ml=r(73449),yl=r(41993);const xl="fJrnaZd0QWm65978IgD2",bl="yCpl0fAaEYj7E8F_Oabw",hl=()=>{const{syncing:e,percentage:t,currentItem:r,totalItems:a}=function(){const[e,t]=(0,i.useState)({syncing:!1,percentage:0,totalItems:0,currentItem:0}),r=ml.I.UPDATE_TOTAL_PROGRESS,a=(0,i.useCallback)((e=>t(e.data.progress)),[]);return(0,yl.b)(r,a),e}();return e?(0,w.jsxs)("div",{className:xl,children:[(0,w.jsxs)("div",{className:bl,children:[(0,w.jsx)(be.E,{variant:"bodySmallBold",semanticColor:"textBase",children:b.Ru.get("web-player.your-library-x.download-progress-title")}),(0,w.jsx)(be.E,{variant:"bodySmallBold",semanticColor:"textBase",children:b.Ru.get("web-player.your-library-x.download-progress-count-out-of-total",r,a)})]}),(0,w.jsx)(gl.z,{value:t})]}):null};const fl=({parentDropTargetClassName:e,isLibraryCompletelyEmpty:t,folderUri:r,folderName:a,spec:l,openedFolderIsPlayable:o})=>{const{isCollapsed:s,ylxSidebarState:u,canExpand:p}=(0,Le.$)(),{renameFolder:g}=(0,ma.Z)(),{popFolder:m}=(0,i.useContext)(er),y=(0,i.useCallback)(((e="")=>{r&&g({uri:r},e)}),[r,g]),x=(0,i.useCallback)((()=>{m()}),[m]),b=r?(0,w.jsx)(aa,{reference:{uri:r},name:a,onRename:y,onDeleteCallback:x,isPlayable:o}):null,{dropOriginIsYLX:h}=zr(),f=!s&&r&&void 0!==a,S=(0,i.useRef)(null),v=(0,i.useRef)(null),C=(0,i.useRef)(null);!function(e,t,r,...a){const n=(0,c.U0)((()=>{if(e.current)if(t.current instanceof HTMLElement){e.current.style.display="block";const{scrollWidth:r,offsetWidth:i}=t.current,a=r>i;e.current.style.display=a?"none":"block"}else e.current.style.display="block"}),[a]);(0,i.useLayoutEffect)(n,[n]),(0,Ci.w)({refOrElement:r,observeOnly:"width",onResize:n})}(C,(0,i.useMemo)((()=>({get current(){return v.current?.firstElementChild instanceof HTMLElement?v.current?.firstElementChild:null}})),[]),S,a,f);const P=(0,d.NC)(z.AEN),R=(0,On.A)(),j=!s||t&&s;return(0,w.jsxs)("header",{className:n()(Nn,{[Fn]:R,[zn]:s}),ref:S,children:[!s&&(0,w.jsx)(hl,{}),(0,w.jsxs)("div",{className:n()(Bn,{[Un]:s}),children:[(0,w.jsxs)("div",{className:n()(_n,{[Un]:s}),children:[(0,w.jsx)(Zn,{folderUri:r,dropTargetClassName:e,spec:l.toggleCollapsedModeButtonFactory({identifier:""})}),r&&(0,w.jsx)(al,{handleNavigateBack:x,parentFolderUri:r,spec:l.folderBackButtonFactory()}),f&&(0,w.jsx)(pl,{folderUri:r,folderName:a,folderMenu:b,onRename:y,spec:l.folderTitleFactory(),className:h?e:void 0,ref:v},r)]}),j&&(0,w.jsx)("span",{ref:C,children:(0,w.jsx)($n,{className:n()(Vn,Wn),folderUri:r,tooltipPlacement:s?"right":void 0,spec:l.createMenuButtonFactory()})}),r&&!s&&(0,w.jsx)(ol,{folderName:a,folderMenu:b,dropTargetClassName:e}),u===Le.fX.EXPANDED&&!P&&(0,w.jsx)(ul,{dropTargetClassName:e,spec:l.viewDensityToggleFactory({identifier:""})}),(u===Le.fX.DEFAULT&&p||u===Le.fX.EXPANDED)&&(0,w.jsx)(rl,{dropTargetClassName:e,spec:l.toggleExpandedModeButtonFactory({identifier:""})})]})]})};var Sl=r(47731),vl=r(11207),Cl=r(50187);const wl=({date:e})=>(0,w.jsx)(be.E,{variant:"bodySmall",semanticColor:"textSubdued",className:vt,children:e&&b.Ru.formatRelativeDate(new Date(e),{year:"numeric",month:"short",day:"numeric",timeZone:"UTC"})}),Pl=e=>{const t=e.handleNavigate,r=(0,w.jsx)(Fr,{uri:e.uri,title:e.name,menu:e.menu,handleNavigate:t,playbackUri:e.playbackUri}),i=e.expandFolderButton??(e.isPlaying&&(0,w.jsx)(yr,{})),a=(0,w.jsx)(Cr,{leading:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(ai.g,{pinned:e.isPinned}),e.preReleaseIcon,e.downloadButton,e.lockedIcon]}),subtitle:(0,w.jsxs)(w.Fragment,{children:[e.shouldShowType&&ri(e.type),!!e.subtitle&&e.shouldShowType&&" • ",e.subtitle]}),uri:e.uri}),n=e.logRightClick,l=(0,w.jsx)(g.h,{menu:e.menu,onShow:n,children:(0,w.jsx)(pr.E,{uri:e.uri,trigger:pr.l.OnMouseDown,children:(0,w.jsx)(vl.v,{className:ct,media:e.cover,title:r,subtitle:a,trailing:i,id:e.uri,variant:e.isViewActive?"tinted":void 0,padding:cr.v4,onClick:e.onClick,hoverAnimationDuration:"0ms"})})});return(0,ir.c0)(e.uri)?(0,w.jsx)(gr.cW,{parentRef:e.parentRef,children:l}):l},Rl=e=>{const t=e.handleNavigate,r=(0,w.jsx)(Fr,{uri:e.uri,title:e.name,menu:e.menu,handleNavigate:t,playbackUri:e.playbackUri}),i=(0,w.jsx)(Cr,{leading:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(ai.g,{pinned:e.isPinned}),e.preReleaseIcon,e.downloadButton,e.lockedIcon]}),subtitle:(0,w.jsxs)(w.Fragment,{children:[e.shouldShowType&&ri(e.type),!!e.subtitle&&e.shouldShowType&&" • ",e.subtitle]}),uri:e.uri}),a=e.logRightClick;return(0,w.jsx)(hr,{...e,title:r,subtitleSlot:i,parentRef:e.parentRef,children:(0,w.jsxs)("div",{children:[(0,w.jsx)(g.h,{menu:e.menu,onShow:a,children:(0,w.jsx)(pr.E,{uri:e.uri,trigger:pr.l.OnMouseDown,children:(0,w.jsx)(vl.v,{className:n()(ct,ut),media:e.cover,id:e.uri,padding:cr.v4,onClick:e.onClick,variant:void 0,title:void 0,hoverAnimationDuration:"0ms"})})}),(0,w.jsxs)("span",{className:Tt,children:[r," ",i]})]})})},jl=e=>{const t=(0,i.useRef)(null),r=e.logRightClick;return(0,w.jsx)(g.h,{menu:e.menu,onShow:r,children:(0,w.jsxs)("div",{className:St,ref:t,children:[(0,w.jsx)(Pl,{...e,parentRef:t}),(0,w.jsx)(wl,{date:e.addedAt}),(0,w.jsx)(wl,{date:e.lastPlayedAt})]})})},Tl=e=>{const t=e.handleNavigate,r=(0,w.jsxs)("div",{className:Pt,children:[(0,w.jsx)(Fr,{uri:e.uri,title:e.name,menu:e.menu,handleNavigate:t,playbackUri:e.playbackUri}),e.shouldShowType&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(Cl.v,{children:"•"}),(0,w.jsx)(Cl.v,{lineClamp:1,children:ri(e.type)})]}),(!e.shouldShowType&&e.type===ei.c.ALBUM||(0,ir.c0)(e.uri))&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(Cl.v,{children:"•"}),(0,w.jsx)(Cr,{leading:null,uri:e.uri,subtitle:e.subtitle})]})]}),i=(0,w.jsx)(ai.g,{pinned:e.isPinned}),a=e.expandFolderButton??(e.isPlaying?(0,w.jsx)(yr,{iconSize:"xsmall"}):(0,w.jsxs)(w.Fragment,{children:[e.downloadButton&&(0,w.jsx)("div",{className:gt,children:e.downloadButton}),e.preReleaseIcon&&(0,w.jsx)("div",{className:gt,children:e.preReleaseIcon}),e.lockedIcon&&(0,w.jsx)("div",{className:gt,children:e.lockedIcon})]})),l=e.logRightClick;return(0,w.jsx)(g.h,{menu:e.menu,onShow:l,children:(0,w.jsx)(pr.E,{uri:e.uri,trigger:pr.l.OnMouseDown,children:(0,w.jsx)(vl.v,{className:n()(ct,dt),title:r,leading:e.isPinned?i:void 0,trailing:a,id:e.uri,variant:e.isViewActive?"tinted":void 0,padding:`${cr.vw} ${cr.v4}`,onClick:e.onClick,size:"sm",hoverAnimationDuration:"0ms"})})})},Al=e=>{const t=e.logRightClick;return(0,w.jsx)(g.h,{menu:e.menu,onShow:t,children:(0,w.jsxs)("div",{className:St,children:[(0,w.jsx)(Tl,{...e}),(0,w.jsx)(wl,{date:e.addedAt}),(0,w.jsx)(wl,{date:e.lastPlayedAt})]})})},Dl=({height:e,isCompact:t,primaryFilter:r})=>(0,w.jsx)(ji.c,{className:n()({[xt]:!t,[ht]:t,[bt]:r===ei.c.ARTIST}),style:{height:e}});let Il=function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.COMPACT=1]="COMPACT",e}({});const Ll=()=>{const[e,t]=(0,ge.x)("library-row-mode",Il.DEFAULT),r=(0,Le.vW)();return{libraryRowMode:e,setLibraryRowMode:t,rowHeight:e===Il.DEFAULT||r===Le.fX.COLLAPSED?64:32}};var Ol=r(86525);const El=(0,i.memo)((function({item:e,primaryFilter:t,RowVariantComponent:r,spec:i,nrValidItems:a,index:n}){const l={shouldShowType:!(0,ir.c0)(e.uri)&&ii(e.type)!==t,RowVariantComponent:r,spec:i,nrValidItems:a,index:n},o=(0,d.NC)(z.lDH),s=(0,d.NC)(z.H8e);switch(e.type){case ei.c.FOLDER:return(0,w.jsx)(ba,{libraryItem:e,...l});case ei.c.ALBUM:return(0,w.jsx)(ki,{libraryItem:e,...l});case ei.c.ARTIST:return(0,w.jsx)(Bi,{libraryItem:e,...l});case ei.c.AUDIOBOOK:return(0,w.jsx)(Hi,{libraryItem:e,...l});case ei.c.SHOW:return(0,w.jsx)(bn,{libraryItem:e,...l});case ei.c.PLAYLIST:return(0,w.jsx)(nn,{libraryItem:e,...l});case ei.c.LIKED_SONGS:return(0,w.jsx)(Pa,{libraryItem:e,...l});case ei.c.YOUR_EPISODES:return(0,w.jsx)(vn,{libraryItem:e,...l});case ei.c.LOCAL_FILES:return(0,w.jsx)(La,{libraryItem:e,...l});case ei.c.PRE_RELEASE_ALBUM:return o?(0,w.jsx)(gn,{libraryItem:e,...l}):null;case ei.c.PRE_RELEASE_BOOK:return s?(0,w.jsx)(gn,{libraryItem:e,...l}):null;default:(0,ti.d)(e)}})),kl=({getItems:e,scrollNodeRef:t,primaryFilter:r,nrValidItems:a,spec:n})=>{const l=(0,Le.vW)(),{rowHeight:o,libraryRowMode:s}=Ll(),c=s===Il.COMPACT,d=((e,t)=>{switch(e){case Le.fX.COLLAPSED:return Rl;case Le.fX.DEFAULT:return t?Tl:Pl;case Le.fX.EXPANDED:return t?Al:jl;default:(0,ti.d)(e)}})(l,c),u=(0,i.useCallback)(((e,t)=>(0,w.jsx)(Dl,{height:e,isCompact:c,primaryFilter:r},t)),[c,r]),p=(0,i.useCallback)(((t,i)=>e(t,i).map(((e,i)=>e?(0,w.jsx)(El,{item:e,spec:n,RowVariantComponent:d,primaryFilter:r,nrValidItems:a,index:t+i},e.uri):u(`${o}px`,`${t+i}`)))),[d,e,r,u,o,n,a]);return(0,w.jsx)(Sl.$,{circular:!1,allowsMultipleInteractiveChildrenInItem:!0,"aria-label":b.Ru.get("web-player.your-library-x.your-library"),children:(0,w.jsx)(Ol.L,{renderRows:p,nrRows:a,rowHeight:o,scrollNodeRef:t,renderPlaceholder:u})})};var Nl=r(4414),Fl=r(8143),Ml=r(97371),Bl=r(90441);const Ul="cZ3IJprhLYLVtLoxVtDe",_l="C8nlESBb6d0huyAhMq2v",Vl="yclq4HDmRA_euiUYwB9O",Hl=function({title:e,bodyText:t,children:r,root:a,show:n,childrenWrapperClassName:l,onHide:o}){const[s,c]=(0,i.useState)(null),[u,p]=(0,i.useState)(null),g=(0,d.NC)(z.zJD),m=(0,i.useCallback)((()=>{o()}),[o]);(0,i.useEffect)((()=>{if(!n)return()=>{};const e=e=>{"Escape"===e.key&&m()};return window.addEventListener("keydown",e,!0),()=>{window.removeEventListener("keydown",e,!0)}}),[m,u,n]);const y=s?.getBoundingClientRect();return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("span",{ref:c,className:l,children:r}),y&&n&&g&&(0,Fl.createPortal)((0,w.jsx)("div",{className:Ul,style:{top:y?.top??0,left:y?.left??0,width:y?.width,height:y?.height},ref:p,children:(0,w.jsxs)(Ml.A,{popoverTitle:e,arrow:Ml.A.left,colorSet:"announcement",className:_l,children:[(0,w.jsx)(be.E,{as:"p",dangerouslySetInnerHTML:{__html:t||""}}),(0,w.jsx)(Ae.H,{size:"small",onClick:m,iconOnly:Bl.M,"aria-label":b.Ru.get("close"),className:Vl})]})}),a||document.body)]})};var Wl=r(85988),zl=r(99411),Xl=r(94285),Kl=r(97798);const Yl=(e,t,r)=>{const i=t.closest('li[role="presentation"]'),a=e.parentElement?.querySelectorAll('ul[role="menu"]');if(r===Kl.O.UP){const r=a?.[a.length-1],n=e.previousElementSibling,l=i?.previousElementSibling?.previousElementSibling;if(t instanceof HTMLUListElement||!l){if(n&&n instanceof HTMLUListElement)return n;if(r&&r instanceof HTMLUListElement)return r}}else{const t=i?.nextElementSibling;if(!t){const t=e.nextElementSibling;return t&&t instanceof HTMLUListElement?t:a?.[0]}}},Zl="GvHaMehoYEIaLhHafB4F",Gl="main-yourLibraryX-librarySortWrapper",Jl="ijaSPbJ8wd3RNiyukjlh",ql="w0nWe_59HwsG7nQLoibF",Ql="LbAtRPub21imosz1Xjht",$l=[{itemsViewState:dl.X.LIST,compactModeState:Il.COMPACT},{itemsViewState:dl.X.LIST,compactModeState:Il.DEFAULT},{itemsViewState:dl.X.GRID,compactModeState:Il.DEFAULT}],eo=(e,t,r)=>Math.round((e+t)*r)/r,to=e=>e.itemsViewState===dl.X.GRID?b.Ru.get("web-player.your-library-x.sort-and-view-picker.grid"):e.compactModeState===Il.COMPACT?b.Ru.get("web-player.your-library-x.sort-and-view-picker.compact"):b.Ru.get("web-player.your-library-x.sort-and-view-picker.list"),ro=({selectedSort:e,selectedView:t,onSortSelect:r,onViewSelect:a,sortOptions:n,spec:l,id:o})=>{const s=(0,C.s)(),c=(0,i.useCallback)((e=>e.itemsViewState===dl.X.GRID?(0,w.jsx)(cl.D,{size:"small"}):e.compactModeState===Il.COMPACT?(0,w.jsx)(Wl.d,{size:"small"}):(0,w.jsx)(sl.N,{size:"small"})),[]),{gridScale:d,setGridScale:u}=wn(),p=e=>{const t=eo(e,.5,100);u(t),s.logInteraction(l.gridDensitySliderFactory().dragSetSliderPosition({position:t}))},g=(0,i.useCallback)((e=>{u(e),s.logInteraction(l.gridDensitySliderFactory().hitSetSliderPosition({position:e}))}),[s,u,l]),y=e=>e?.parentElement?.querySelector("ul"),x=(0,i.useRef)(null);return(0,w.jsxs)("div",{id:o,className:Jl,ref:x,children:[(0,w.jsxs)(m.W,{"aria-label":b.Ru.get("web-player.your-library-x.sort_by"),onFocusVerticalItem:Yl,getInitialFocusElement:y,children:[(0,w.jsx)(zl.y,{children:b.Ru.get("web-player.your-library-x.sort_by")}),n.map((({key:t,value:i},a)=>(0,w.jsx)(h.D,{role:"menuitemradio","aria-checked":t===e.key,onClick:()=>r(t,a),divider:a===n.length-1?"after":void 0,autoClose:!1,children:i},t)))]}),(0,w.jsxs)(m.W,{"aria-label":b.Ru.get("web-player.your-library-x.sort-and-view-picker.view-as"),onFocusVerticalItem:Yl,getInitialFocusElement:y,children:[(0,w.jsx)(zl.y,{children:b.Ru.get("web-player.your-library-x.sort-and-view-picker.view-as")}),$l.map((e=>{const r=to(e),i=e.itemsViewState===t.itemsViewState&&e.compactModeState===t.compactModeState;return(0,w.jsx)(h.D,{role:"menuitemradio","aria-checked":i,onClick:()=>a(e),leadingIcon:c(e),autoClose:!1,children:r},r)})),dl.X.GRID===t.itemsViewState&&(0,w.jsx)("li",{role:"presentation",children:(0,w.jsx)("div",{role:"menuitem",className:Ql,children:(0,w.jsx)(Xl.z2,{labelText:b.Ru.get("web-player.your-library-x.sort-and-view-picker.grid-density-label"),value:eo(d,-.5,100),max:1,step:.1,onDragStart:p,onDragMove:p,onDragEnd:p,onStepBackward:()=>g(eo(d,-.1,10)),onStepForward:()=>g(eo(d,.1,10)),forceActiveStyles:!0,"data-roving-interactive":"1"})})})]})]})},io=(e,t=!0)=>{const[r,a]=(0,ge.x)("onboarding-dismissed:ylx-playlist-ordering",!1),[n,l]=(0,ge.x)("onboarding-dismissed-amount:ylx-playlist-ordering",0),[o,s]=(0,i.useState)(!1),{dropOriginIsYLX:c}=zr(),{draggingIsInProgress:d}=(0,i.useContext)(k.O_);(0,i.useEffect)((()=>{d&&c&&s(!0)}),[d,c]);const u=(0,i.useCallback)((()=>{a(!0),s(!1),l(n+1)}),[n,l,a]);return{show:e&&n<3&&(!r||o)&&(t||o),onHide:u}};var ao=r(717);const no=({sortOptions:e,selectedSort:t,onSortSelect:r,root:a,showReorderingOnboarding:n,scrollNodeRef:l,spec:o})=>{const{itemsView:s,setItemsView:c}=(0,dl.t)(),{libraryRowMode:d,setLibraryRowMode:u}=Ll(),p=(0,C.s)(),g=(0,i.useCallback)((()=>{p.logInteraction(o.hitUiReveal())}),[p,o]),m=(0,i.useMemo)((()=>s===dl.X.GRID?{itemsViewState:dl.X.GRID,compactModeState:Il.DEFAULT}:d===Il.COMPACT?{itemsViewState:dl.X.LIST,compactModeState:Il.COMPACT}:{itemsViewState:dl.X.LIST,compactModeState:Il.DEFAULT}),[s,d]),y=(0,i.useCallback)((e=>{let t=o.viewAsOptionFactory({identifier:"grid",position:3}).hitUiElementToggle();e.itemsViewState===dl.X.GRID?c(dl.X.GRID):e.compactModeState===Il.COMPACT?(t=o.viewAsOptionFactory({identifier:"compact",position:1}).hitUiElementToggle(),c(dl.X.LIST),u(Il.COMPACT)):(t=o.viewAsOptionFactory({identifier:"list",position:2}).hitUiElementToggle(),c(dl.X.LIST),u(Il.DEFAULT)),p.logInteraction(t)}),[p,c,u,o]),x=(0,i.useRef)(null),h=(0,ao.y)(l,"0px 0px 0px 0px",.75,x),[f,S]=(0,ge.x)("sort-view-picker-onboarding-seen",!1),{show:v,onHide:P}=io(f&&n,!h),R=(0,i.useCallback)((()=>{g(),S(!0)}),[g,S]);return(0,w.jsx)(Hl,{bodyText:b.Ru.get("web-player.your-library-x.sort-and-view-picker.view-onboarding"),root:a,show:!f&&!h,childrenWrapperClassName:Gl,onHide:()=>S(!0),children:(0,w.jsx)(Hl,{bodyText:b.Ru.get("web-player.your-library-x.custom-ordering-onboarding-text"),root:a,show:v,childrenWrapperClassName:Gl,onHide:P,children:(0,w.jsx)(ll.b,{menu:(0,w.jsx)(ro,{selectedSort:t,selectedView:{itemsViewState:m.itemsViewState??dl.X.LIST,compactModeState:m.compactModeState??Il.DEFAULT},sortOptions:e,onSortSelect:r,onViewSelect:y,spec:o,id:"sort-and-view-picker"}),placement:"bottom-end",children:(0,w.jsx)(Ae.H,{"aria-label":b.Ru.get("web-player.your-library-x.sort-and-view-picker.button-aria-label",t.value,to(m)),onClick:R,size:"small",iconTrailing:(j=m,j.itemsViewState===dl.X.GRID?cl.D:j.compactModeState===Il.COMPACT?Wl.d:sl.N),ref:x,role:"combobox","aria-controls":"sort-and-view-picker",children:(0,w.jsx)(be.E,{variant:"bodySmall",className:ql,children:t.value})})})})});var j},lo=({sortOrders:e,activeSortOrderId:t,setActiveSortOrderId:r,root:a,showReorderingOnboarding:n,spec:l,scrollNodeRef:o})=>{const s=(0,i.useMemo)((()=>l.sortMenuButtonFactory()),[l]),c=(0,i.useMemo)((()=>l.sortbyViewasMenuButtonFactory()),[l]),u=(0,C.s)(),p=(0,kt.t)(),g=e.find((e=>e.id===t))??e?.at(0),m=(0,i.useRef)(null),y=(0,d.NC)(z.AEN),x=(0,i.useCallback)(((e,t)=>{r(e);const i=p.getSortOrderLabel(e);y?u.logInteraction(c.sortOptionFactory({identifier:i,position:t}).hitSort()):u.logInteraction(s.sortMenuFactory().sortOptionFactory({identifier:i,position:t}).hitSort())}),[p,u,r,c,s,y]),{show:h,onHide:f}=io(n);return y?(0,w.jsx)(no,{sortOptions:e.map((({id:e,name:t})=>({key:e,value:t}))),selectedSort:{key:g?.id??"",value:g?.name??""},onSortSelect:x,root:a,showReorderingOnboarding:n,scrollNodeRef:o,spec:c}):(0,w.jsx)("div",{className:Zl,ref:m,children:(0,w.jsx)(Hl,{bodyText:b.Ru.get("web-player.your-library-x.custom-ordering-onboarding-text"),root:a,show:h,childrenWrapperClassName:Gl,onHide:f,children:(0,w.jsx)(Nl.g,{options:e.map((({id:e,name:t})=>({key:e,value:t}))),onClick:()=>{u.logInteraction(s.hitUiReveal())},onSelect:x,selected:{key:g?.id??"",value:g?.name??""},heading:b.Ru.get("web-player.your-library-x.sort_by"),ariaLabel:b.Ru.get("web-player.your-library-x.sort_by")})})})};var oo=r(89457),so=r(11891),co=r(34867);const uo=({clearOnEscapeInElementRef:e,primaryFilter:t,spec:r})=>{const a=(0,kt.t)(),n=(0,C.s)(),l=function(e){switch(e){case ei.c.PRE_RELEASE_ALBUM:case ei.c.ALBUM:return b.Ru.get("web-player.your-library-x.text-filter.albums-placeholder");case ei.c.ARTIST:return b.Ru.get("web-player.your-library-x.text-filter.artists-placeholder");case ei.c.PLAYLIST:return b.Ru.get("web-player.your-library-x.text-filter.playlists-placeholder");case ei.c.SHOW:return b.Ru.get("web-player.your-library-x.text-filter.shows-placeholder");case ei.c.PRE_RELEASE_BOOK:case ei.c.AUDIOBOOK:return b.Ru.get("web-player.your-library-x.text-filter.audiobooks-placeholder");case"downloaded":return b.Ru.get("web-player.your-library-x.text-filter.downloaded-placeholder");case void 0:return b.Ru.get("web-player.your-library-x.text-filter.generic-placeholder");default:return void(0,ti.k)(e)}}(t),o=(0,i.useCallback)((()=>(n.logInteraction(r.searchButtonFactory().hitUiReveal()),!0)),[n,r]),s=(0,i.useCallback)((()=>(n.logInteraction(r.textFilterFactory().keyStrokeClearFilter()),!0)),[n,r]);return(0,w.jsx)(oo.S,{placeholder:l,clearOnEscapeInElementRef:e,debounceFilterChangeTimeout:a?.getCapabilities().canTextFilterContentsInRealtime?0:void 0,expandDirection:"right",onActivate:o,onClear:s,useExpandCallback:e=>{(0,co.f)(so.gO.FOCUS_YLX_TEXT_FILTER,e)}})};var po=r(90577);var go=r(14022);var mo=r(921);function yo(){const[e,t]=(0,i.useState)(null);if((0,sa.l)(oa.UV.UPDATE_PIN_ERROR,(e=>{t(e.data)})),void 0===e?.reason)return null;switch(e.reason){case oa.uL.TOO_MANY_PINS:return(0,w.jsx)(mo.x,{animated:!0,headingMessage:b.Ru.get("web-player.your-library-x.pin-error.title"),message:b.Ru.get("web-player.your-library-x.pin-error.message",e.maximumPinnedItems),buttonLabel:b.Ru.get("web-player.your-library-x.pin-error.ok"),isOpen:!0,onDismissDialog:()=>t(null)});case oa.uL.NO_PIN_IN_FOLDER:return(0,w.jsx)(mo.x,{animated:!0,headingMessage:b.Ru.get("web-player.your-library-x.pin-error.no-pin-in-folder.title"),message:b.Ru.get("web-player.your-library-x.pin-error.no-pin-in-folder.message"),buttonLabel:b.Ru.get("web-player.your-library-x.pin-error.ok"),isOpen:!0,onDismissDialog:()=>t(null)});default:return(0,ti.k)(e),null}}var xo=r(73785),bo=r(39261);var ho=r(4496),fo=r(45658),So=r(21280),vo=r(75613);const Co=(e,t,r,a,n)=>{const l=(0,vo.Q)(),o=(0,i.useRef)(r),s=(0,i.useRef)(),c=(0,i.useRef)();s.current=a,c.current=n,(0,i.useEffect)((()=>{const r={ident:e,isPrefix:t,onMessage:e=>o.current(e),onSubscribe:async e=>await(s.current?.(e)),onCancel:async e=>await(c.current?.(e))},i=l.subscribe(r);return()=>{i.cancel()}}),[e,t,l])},wo={[oa.Ir.ALBUMS]:ei.c.ALBUM,[oa.Ir.ARTISTS]:ei.c.ARTIST,[oa.Ir.BOOKS]:ei.c.AUDIOBOOK,[oa.Ir.EPISODES]:ei.c.EPISODE,[oa.Ir.SHOWS]:ei.c.SHOW,[oa.Ir.TRACKS]:ei.c.TRACK};function Po(e,t){const r=(0,i.useCallback)((({data:{list:r}})=>{Ro(e,wo[r])&&t()}),[e,t]);(0,sa.l)(oa.UV.UPDATE,r),(0,sa.l)(oa.UV.UPDATE_PIN,t);const a=(0,i.useCallback)((()=>{Ro(e,ei.c.PLAYLIST)&&t()}),[e,t]);(0,ua.L)(a),function(e){Co("hm://collection/ylpin/",!0,e)}(t),function(e){const t=(0,i.useContext)(So._),r=t.getEvents();(0,i.useEffect)((()=>r.addListener(fo.T.UPDATE,e)),[t,r,e])}(t),function(e){const t=(0,ho.l)().getEvents();(0,i.useEffect)((()=>{const r=({data:{set:t}})=>{"prerelease"===t&&e()};return t.addListener(re.ar.ADDED,r),t.addListener(re.ar.REMOVED,r),()=>{t.removeListener(re.ar.ADDED,r),t.removeListener(re.ar.REMOVED,r)}}),[e,t])}(t)}function Ro(e,t){switch(e){case ei.c.ALBUM:case ei.c.ARTIST:case ei.c.AUDIOBOOK:case ei.c.SHOW:return e===t;case ei.c.PLAYLIST:switch(t){case ei.c.TRACK:case ei.c.PLAYLIST:case ei.c.EPISODE:return!0;default:return!1}default:return!0}}var jo=r(7857),To=r(37916),Ao=r(73791),Do=r(3818);const Io="Vf3ww2_My5QuwUnbpzhu";var Lo=r(25741);const Oo=()=>{const{typeaheadResult:{str:e}}=(0,i.useContext)(Lr);return e?(0,w.jsx)(Lo.qb,{className:Io,children:e}):null};var Eo=r(69798);const ko="main-yourLibraryX-libraryContainer",No="main-yourLibraryX-libraryFilter",Fo="iwhVJuPipY1lrQIjaA1k",Mo="main-yourLibraryX-libraryItemContainer",Bo="main-yourLibraryX-libraryRootlist",Uo="sikBfynL1Y6I25nVpbAg",_o="KwShd3RdVrsX6dGLJNxT",Vo="main-yourLibraryX-filters",Ho="qOtD4rsRpIMhQLCjJ4K3",Wo="oEDH8yMQOKQNoX7LWjwt",zo="RHRitk6QC3rvuG24RAdj",Xo="main-yourLibraryX-filterArea",Ko={items:[],totalLength:0},Yo=()=>{const{filter:e}=(0,i.useContext)(Q.g),[t,r]=(0,i.useState)(null),{refinersPickedByUserRef:a,selectedRefinerIds:o,resetRefinerIds:m,resetAndToggleRootRefiner:y,toggleRefinerId:x}=function(e){const{openedFolderUri:t=$t,change:r,resetFolder:a}=(0,i.useContext)(er),n=(0,i.useRef)(t),[l,o]=(0,ge.x)("ylx-active-filter-ids",{[t]:[]}),s=(0,i.useRef)(!0),d=(0,c.U0)(((r,i=!0)=>{const a=new Set(e);a.has(r)?a.delete(r):a.add(r),s.current=i,o({...l,[t]:Array.from(a)})}),[e,o,t]),u=(0,i.useCallback)((()=>o({...l,[t]:[]})),[t,l,o]),p=(0,i.useCallback)((e=>{t&&a(),o({...l,[$t]:e?[e]:[]})}),[t,a,l,o]);return(0,i.useLayoutEffect)((()=>{t!==n.current&&t!==$t&&"PUSH"===r&&o({...l,[t]:l[n.current]}),n.current=t}),[r,t,l,o]),{refinersPickedByUserRef:s,selectedRefinerIds:l[t],resetRefinerIds:u,resetAndToggleRootRefiner:p,toggleRefinerId:d}}(t?.selectedFilters?.map((e=>e.id))??[]),b=o?.[0],{selectedSortOrderId:h,setSelectedSortOrderId:f}=function(e){const t=(0,kt.t)().getContentsPrimaryFilterId(ei.c.PLAYLIST),{openedFolderUri:r=""}=(0,i.useContext)(er),[a,n]=(0,ge.x)("ylx-active-sort-order-by-filter-id",{}),l=`${r&&t?t:e}`;return{selectedSortOrderId:a[l],setSelectedSortOrderId:(0,i.useCallback)((e=>{n({...a,[l]:e})}),[l,a,n])}}(b),S=(0,i.useRef)(null),v=(0,i.useRef)(null),P=(0,i.useRef)(null),{expandedFolders:R}=function(){const e=(0,i.useContext)(ot);if(!e)throw new Error("useExpandedFolders must be used within a ExpandedFoldersProvider");return e}(),{openedFolderUri:T,resetFolder:O}=(0,i.useContext)(er),F=(0,jo.p)(),M=(0,Ao.P)(),B=(0,i.useContext)(Yr.Z),U=(0,Xr.g)(),_=ye(),V=Kr(),[H,W]=(0,i.useState)(!1),{isCollapsed:X,isExpanded:K,setYlxSidebarState:Y}=(0,Le.$)();(e=>{const t=(0,i.useContext)(Yr.Z),{isCollapsed:r,setYlxSidebarState:a,lastUncollapsedYlxSidebarState:n}=(0,Le.$)(),l=(0,bo.W)(),o=(0,i.useCallback)((()=>{const e=r?n:Le.fX.COLLAPSED;a(e)}),[r,n,a]),s=(0,i.useCallback)((()=>{e(null),r&&a(n)}),[r,n,e,a]),c=(0,i.useCallback)((i=>()=>{e(t.getContentsPrimaryFilterId(i)),r&&a(n)}),[r,n,t,e,a]),d=c(ei.c.PLAYLIST),u=c(ei.c.SHOW),p=c(ei.c.ARTIST),g=c(ei.c.ALBUM),m=c(ei.c.AUDIOBOOK);(0,xo.Nx)(l?so.gO.TOGGLE_NPV_SIDEBAR:so.gO.TOGGLE_YLX_SIDEBAR,o),(0,xo.Nx)(so.gO.GO_TO_LIBRARY,s),(0,xo.Nx)(so.gO.GO_TO_PLAYLISTS,d),(0,xo.Nx)(so.gO.GO_TO_PODCASTS,u),(0,xo.Nx)(so.gO.GO_TO_ARTISTS,p),(0,xo.Nx)(so.gO.GO_TO_ALBUMS,g),(0,xo.Nx)(so.gO.GO_TO_AUDIOBOOKS,m)})(y);const{isGridView:Z}=(0,dl.t)(),{libraryRowMode:G}=Ll(),J=G===Il.COMPACT,{spec:$,UBIFragment:ee}=(0,Ee.r)(u.j,{data:{identifier:"yourlibraryx"}});let te;te=X?"collapsed":Z?K?"expanded_grid":"default_grid":J?K?"expanded_compact":"default_compact":K?"expanded_list":"default_list";const re=(0,i.useMemo)((()=>$.sidebarFactory({uri:T??$t,identifier:te})),[$,T,te]),ie=(0,Eo.t)(re),ne=(0,i.useMemo)((()=>re.headerFactory()),[re]),ce=(0,i.useMemo)((()=>ne.filtersFactory()),[ne]),de=(0,i.useMemo)((()=>ne.searchBarFactory()),[ne]),ue=(0,i.useMemo)((()=>re.listFactory()),[re]),pe=(0,C.s)();!function(e=[],t=[],r){const a=(0,po.n)(),n=(0,i.useContext)(Yr.Z).getContentsPrimaryFilterId("downloaded"),l=(0,i.useRef)(e);l.current=e;const o=(0,i.useRef)(t);o.current=t;const s=(0,i.useRef)(r);s.current=r;const d=(0,i.useRef)(!1);(0,i.useEffect)((()=>{if(!n)return;const e=o.current.includes(n),t=l.current.includes(n),r=o.current.length>1,i=!a&&!r&&!e&&t,c=a&&e&&d.current;(i||c)&&(i&&(d.current=!0),s.current(n,!1))}),[n,a]);const u=(0,i.useRef)(t);(0,c.Ij)((()=>{n&&(t.includes(n)&&!u.current.includes(n)&&d.current||(d.current=!1),u.current=t)}),[n,t])}(t?.availableFilters?.map((e=>e.id)),t?.selectedFilters?.map((e=>e.id)),x);const{handleDropOnFolder:xe,unpinConfirmationDialog:be}=na(ue,T),{dropOriginIsYLX:he,entityIsInFolder:fe}=zr(),{setDraggingIsInProgress:Se}=(0,i.useContext)(k.O_);(0,N.g)(S);const ve=T?Kt:Xt,Ce=fe&&!t?.reorderAllowed?[D.fl.PLAYLISTS_V2,D.fl.FOLDERS]:[],{dropPosition:we,className:Pe,...Re}=(0,L.A)({allowedMimeTypesByDropPosition:{[I.Nz.ON]:he?Ce:ve},onDrop:(0,i.useCallback)((async e=>{if(T)xe(e);else{const{[D.fl.TRACKS]:t=[],[D.fl.LOCAL_TRACKS]:r=[],[D.fl.ALBUMS]:i,[D.fl.ARTISTS]:a,[D.fl.EPISODES]:n,[D.fl.SHOWS]:l,[D.fl.PLAYLISTS_V2]:o=[],[D.fl.FOLDERS]:s,[D.fl.AUDIOBOOKS]:c}=e,d=[...t,...r];d.length&&(B?.add({uris:d}),pe.logInteraction(ue.dragCreatePlaylist())),i?.length&&(B?.add({uris:i}),pe.logInteraction(ue.dragLike({itemToBeLiked:i.at(0)??""}))),a?.length&&(B?.add({uris:a}),pe.logInteraction(ue.dragLike({itemToBeLiked:a.at(0)??""}))),n?.length&&(B?.add({uris:n}),pe.logInteraction(ue.dragLike({itemToBeLiked:n.at(0)??""}))),l?.length&&(B?.add({uris:l}),pe.logInteraction(ue.dragLike({itemToBeLiked:l.at(0)??""}))),c?.length&&(B?.add({uris:c}),pe.logInteraction(ue.dragLike({itemToBeLiked:c.at(0)??""}))),o.length&&(V(o,{before:"start"}),he?pe.logInteraction(ue.dragSort()):pe.logInteraction(ue.dragLike({itemToBeLiked:o.at(0)??""}))),s?.length&&(U.moveFolder({uri:s[0]},{before:"start"}),pe.logInteraction(ue.dragSort()))}}),[T,xe,B,pe,ue,V,he,U]),onLongDragOver:(0,i.useCallback)((()=>{X&&Y(Le.fX.DEFAULT)}),[X,Y])}),je=(0,d.NC)(z.H8e),Te=(0,d.NC)(z.lDH),Ae=je||Te,De=(0,i.useMemo)((()=>({filters:o,sortOrder:h,textFilter:e,includeLocalFiles:M,includeYourEpisodes:!0,includeLikedSongs:!0,includePreReleases:Ae,expandedFolders:X||Z?[]:R,filtersPickedByUser:a.current,folderUri:T})),[o,h,e,M,Ae,X,Z,R,a,T]),Ie=(0,i.useCallback)((async(e,t)=>{try{const i=await B.getContents({offset:e,limit:t,...De}),{offset:a,limit:n,items:o,...s}=i;return W(!1),{fetchedId:De.folderUri,onCacheSuccess:()=>{r((e=>(0,l.j)(s,e)?e:s))},...i}}catch(e){return e instanceof j.c_?(m(),Ko):e instanceof j.IU?(f(void 0),Ko):e instanceof j.db?(O(),Ko):((0,Do.UD)(e),W(!0),Ko)}}),[De,B,m,O,f]),Oe=!1===t?.hasUnfilteredItems,ke=t?.hasTextFilter&&0===t.totalLength&&""!==e,{setFilter:Ne}=(0,i.useContext)(Q.g);(0,i.useEffect)((()=>{ke&&X&&Ne("")}),[ke,X,Ne]);const Fe=0===t?.totalLength&&t.selectedFilters.length>0&&!t.passedFolderUri&&!t.hasTextFilter;(0,c.Ij)((()=>{const e=t?.selectedFilters.at(-1);Fe&&e&&x(e.id,!1)}),[Fe,t?.selectedFilters]);const Be=(0,d.NC)(z.HbK,{loadingValue:!1})&&B?.getCapabilities().canFetchAllItems,{fetchedId:Ue,getItems:Ve,nrValidItems:He,invalidateCache:We}=(0,To.E)({nrItems:50,fetch:Ie,limit:50,cacheAllOnInvalidation:Be,cacheAllLimit:5e4}),ze=(0,s.YQ)(We,200,{leading:!0,trailing:!0,maxWait:1e3});Po(t?.primaryFilter,ze);const Xe=!T&&!Ue||T===Ue;((e,t="")=>{const r=(0,i.useRef)({});(0,i.useLayoutEffect)((()=>{if(!e.current)return()=>{};const i=e.current,a=r.current[t];i.scrollTop=a??0;const n=()=>{r.current[t]=i.scrollTop};return i?.addEventListener("scroll",n),()=>{i?.removeEventListener("scroll",n)}}),[e,t])})(S,Ue);const Ke=(0,i.useCallback)((()=>{We(),W(!1)}),[We]),Ye=(0,ao.y)(S),Ze=!!t?.openedFolderName,Ge=(0,d.NC)(z._p8,{loadingValue:!1})&&Be,Je=function(e,t,r){const{isGridView:a}=(0,dl.t)(),{rowHeight:n}=Ll();return(0,i.useCallback)((async i=>{let l=n,o=1;if(a){const t=e.current?.querySelector('li[role="row"]');l=t?.getBoundingClientRect().height??0,t?.parentElement&&(o=getComputedStyle(t.parentElement).getPropertyValue("grid-template-columns").split(" ").length)}if(!l)return null;const s=r(0,5e4,{cachedOnly:!0}),c=s.find((e=>e?.name&&(0,go.u)(i,e.name))),d=c?s.indexOf(c):-1;return-1!==d&&t.current&&function(e,t,r,i){if(!e)return;const{scrollTop:a,offsetHeight:n}=e,l=t&&e?t.getBoundingClientRect().top+a-e.getBoundingClientRect().top:0;if(l+r<a||l+r+i>a+n){const t=r-n/2+l+i/2;e.scrollTop=t}}(t.current,e.current,Math.floor(d/o)*l,l),c?.uri??null}),[e,t,n,r,a])}(P,S,Ve),Qe=H?(0,w.jsx)(lt,{onClick:Ke}):null;let $e;(0,i.useEffect)((()=>{H&&X&&Y(Le.fX.DEFAULT)}),[H,X,Y]),Oe&&!X&&($e=Ze?(0,w.jsx)(_e,{className:Pe}):(0,w.jsx)(qe,{className:Pe}));const et=ke?(0,w.jsx)(rt,{query:e,className:Pe}):null,tt=(0,d.NC)(z.AEN),it=!X&&!$e&&(0,w.jsxs)("div",{className:n()(No,Pe,{[Fo]:tt}),children:[(0,w.jsx)(uo,{clearOnEscapeInElementRef:v,primaryFilter:t?.primaryFilter,spec:de},T),(0,w.jsx)(lo,{sortOrders:t?.availableSortOrders??[],activeSortOrderId:t?.selectedSortOrder?.id,setActiveSortOrderId:f,root:v.current,showReorderingOnboarding:t?.primaryFilter===ei.c.PLAYLIST&&!t?.reorderAllowed,spec:ne,scrollNodeRef:S})]}),at=H&&!t,nt=K&&!Z&&!Qe&&!$e,st=(t?.selectedFilters??[]).length>0,ct=_&&!st&&!T&&!Oe,{cheetaraOnboardingIsActive:dt,setCheetaraOnboardingIsActive:ut,cheetaraOnboardingDismissed:pt,setCheetaraOnboardingDismissed:gt,handleCloseCheetaraOnboarding:mt}=me(),yt=!X&&_&&!H&&!pt&&!t?.passedFolderUri;return(0,w.jsx)(Or,{containerRef:v,findMatchingTypeaheadUid:Je,isEnabled:Ge,children:(0,w.jsxs)(ee,{spec:$,children:[(0,w.jsx)(q,{}),dt&&(0,w.jsx)(oe,{onClose:mt}),(0,w.jsx)(g.h,{menu:(0,w.jsx)(A,{folderUri:T}),children:(0,w.jsxs)("div",{className:n()(ko,{[Nt]:we===I.Nz.ON,[Uo]:X,[Wo]:dt}),style:{"--placeholder-image":`url(${(0,p.b)("images/ylx-row-placeholder.png")})`,"--placeholder-artist-image":`url(${(0,p.b)("images/ylx-artist-row-placeholder.png")})`,"--placeholder-compact-image":`url(${(0,p.b)("images/ylx-compact-row-placeholder.png")})`},ref:e=>{v.current=e,ie(e)},...Re,tabIndex:-1,onDragStart:()=>Se(!0),onDragEnd:()=>Se(!1),children:[be,(0,w.jsxs)("div",{className:n()({[zo]:Ye}),children:[(0,w.jsx)(fl,{parentDropTargetClassName:Pe,isLibraryCompletelyEmpty:Oe,folderUri:t?.passedFolderUri,folderName:t?.openedFolderName,spec:ne.titleRowFactory(),openedFolderIsPlayable:t?.openedFolderIsPlayable}),!F&&(0,w.jsx)(ee,{spec:ne,children:(0,w.jsx)(Me,{})}),!X&&!at&&(0,w.jsxs)("div",{className:Xo,children:[ct&&(0,w.jsx)(i.Suspense,{fallback:null,children:(0,w.jsx)(se,{})}),(0,w.jsx)(Qt,{selectedFilters:t?.selectedFilters,availableFilters:t?.availableFilters,toggleFilterId:x,resetFilterIds:m,className:n()(Vo,{[Ho]:!Xe}),scrollNodeRef:S,spec:ce,inFolderView:!!t?.passedFolderUri},Ue),K&&it]}),yt&&K&&(0,w.jsx)(i.Suspense,{fallback:null,children:(0,w.jsx)(le,{ylxIsExpanded:K,setCheetaraOnboardingIsActive:ut,onHide:()=>gt(!0)})}),nt&&(0,w.jsx)(At,{isScrolled:Ye})]}),(0,w.jsx)(E.a,{className:Mo,onInstanceCreated:e=>{S.current=e.elements().viewport},children:(0,w.jsxs)("div",{className:n()(Bo,{[Ho]:!H&&!Xe,[Uo]:X,[_o]:nt}),children:[yt&&!K&&(0,w.jsx)(i.Suspense,{fallback:null,children:(0,w.jsx)(le,{ylxIsExpanded:K,setCheetaraOnboardingIsActive:ut,onHide:()=>gt(!0)})}),!K&&it,!X&&t?.tagPlaylist&&(0,w.jsx)(i.Suspense,{fallback:null,children:(0,w.jsx)(ae,{playlist:t.tagPlaylist})}),Qe||$e||et,(0,w.jsx)("div",{ref:P,children:Z?(0,w.jsx)(Ln,{getItems:Ve,scrollNodeRef:S,primaryFilter:t?.primaryFilter,nrValidItems:He,spec:ue}):(0,w.jsx)(kl,{getItems:Ve,scrollNodeRef:S,primaryFilter:t?.primaryFilter,nrValidItems:He,spec:ue})})]})}),yo(),(0,w.jsx)(Oo,{})]})})]})})},Zo=()=>{const{isAnonymous:e}=(0,o.d4)((e=>e.session)),t=(0,o.d4)((e=>e.ui.editRefinersModal)),r=ye();return(0,w.jsx)(O.s,{onError:e=>{(0,Do.Jy)(e,"YourLibraryX")},children:(0,w.jsx)(Q.s,{uri:j.gv,children:(0,w.jsx)(st,{children:(0,w.jsxs)(tr,{children:[(0,w.jsx)(ie,{children:(0,w.jsxs)(pe,{children:[(0,w.jsx)(Yo,{}),r&&t.isOpen&&(0,w.jsx)(ne,{})]})}),(0,w.jsx)(je,{isAnonymous:e})]})})})})}},73791:(e,t,r)=>{r.d(t,{P:()=>a});var i=r(5298);function a(){return(0,i.y)()[0]}},5298:(e,t,r)=>{r.d(t,{y:()=>n});var i=r(30758),a=r(21280);function n(){const e=(0,i.useContext)(a._),[t,r]=(0,i.useState)(e.getIsEnabled());(0,i.useEffect)((()=>{const t=e.subscribeIsEnabled(r);return()=>t()}),[e]);return[t,(0,i.useCallback)((t=>e.setIsEnabled(t)),[e])]}}}]);
//# sourceMappingURL=2657.js.map